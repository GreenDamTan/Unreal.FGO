webpackJsonp([4],[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=window.navigator.language&&window.navigator.language.toLowerCase()||window.navigator.userLanguage&&window.navigator.userLanguage.toLowerCase(),e=localStorage.getItem("bili_upload_language"),i=void 0;return t.indexOf("zh-cn")===-1&&t.indexOf("zh_cn")===-1&&t.indexOf("zh-tw")===-1&&t.indexOf("zh_tw")===-1&&(i="en",window.biliEnEnv=!0),e&&(e=JSON.parse(e))&&(i="english"===e?"en":e),i}function s(){new n.default({el:"#app",store:g.default,components:{BiliHeader:c.default,BiliMain:u.default,BiliFooter:h.default,BiliAlert:v.default},vuex:{actions:{storeTypes:y.storeTypes,storeTemplates:y.storeTemplates,storeMissions:y.storeMissions},getters:{isLogin:function(t){var e=t.article;return e.isLogin}}},created:function(){this.storeTypes(),this.storeMissions(),this.storeTemplates()},ready:function(){$.ajax({url:"//data.bilibili.com/rec.js",cache:!0,dataType:"script",success:function(){i.e(3,function(t){i(10)()})}})}})}i(78),i(79);var a=i(8),n=r(a),l=i(103),c=r(l),d=i(113),u=r(d),p=i(102),h=r(p),f=i(104),v=r(f),m=i(49),g=r(m),y=i(1);i(9),n.default.filter("translate",function(t){return"en"===window.biliLanguage&&window.uploadLang&&window.uploadLang[t]?window.uploadLang[t].en:t}),window.biliLanguage=o(),"en"===window.biliLanguage?i.e(2,function(t){i(11),s()}):s()},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.updateRecommendArticle=e.hideAlert=e.showAlert=e.updateTemplate=e.updateForm=e.switchFile=e.removeFile=e.addFile=e.alterTemplate=e.addTemplate=e.removeTemplate=e.storeTags=e.updateArticle=e.storeMissions=e.storeTemplates=e.storeTypes=e.handleArticleApi=e.handleLogin=void 0;var o=i(3),s=r(o),a=i(2);e.handleLogin=function(t,e){var i=t.dispatch;e?i("HANDLE_LOGIN",e):window.location.href="https://account.bilibili.com/login"},e.handleArticleApi=function(t,e){var i=t.dispatch;i("HANDLE_ARTICLE_API",e)},e.storeTypes=function(t){var e=t.dispatch;(0,a.biliAjax)({url:"/v/archive/typelist",dataType:"json",data:{lang:"en"===window.biliLanguage?"en":"ch"}}).done(function(t){var i=t.data;e("STORE_TYPES",i||[])})},e.storeTemplates=function(t,e){var i=t.dispatch;(0,a.biliAjax)({url:"/v/archive/templates",dataType:"json"}).done(function(t){var e=t.data;i("STORE_TEMPLATES",e||[])})},e.storeMissions=function(t){var e=t.dispatch;(0,a.biliAjax)({url:"/v/archive/missions",dataType:"json"}).done(function(t){var i=t.data;e("STORE_MISSIONS",i||[])})},e.updateArticle=function(t,e,i){var r=t.dispatch;return r("UPDATE_ARTICLE",e,i)},e.storeTags=function(t,e,i){var r=t.dispatch;return r("STORE_RECOMMEND_TAGS",e,i)},e.removeTemplate=function(t,e){var i=t.dispatch;return i("REMOVE_TEMPLATE",e)},e.addTemplate=function(t,e){var i=t.dispatch;return i("ADD_TEMPLATE",e)},e.alterTemplate=function(t,e){var i=t.dispatch;return i("ALTER_TEMPLATE",e)},e.addFile=function(t,e){var i=t.dispatch;return i("ADD_FILE",e)},e.removeFile=function(t,e){var i=t.dispatch;return i("REMOVE_FILE",e)},e.switchFile=function(t,e,i){var r=t.dispatch;return r("SWITCH_FILE",e,i)},e.updateForm=function(t,e,i){var r=t.dispatch,o="edit"===(0,a.getParams)("type");if(("copyright"===e||"title"===e||"tags"===e||"description"===e)&&!o){var n=localStorage.getItem("bili_upload_record")&&JSON.parse(localStorage.getItem("bili_upload_record"))||{};n&&n.videoLists&&n.videoLists.length&&(n[e]=i,localStorage.setItem("bili_upload_record",(0,s.default)(n)))}r("UPDATE_FORM",e,i)},e.updateTemplate=function(t,e,i){var r=t.dispatch;return r("UPDATE_TEMPLATE",e,i)},e.showAlert=function(t,e,i){var r=t.dispatch;return r("SHOW_ALERT",e,i)},e.hideAlert=function(t){var e=t.dispatch;return e("HIDE_ALERT")},e.updateRecommendArticle=function(t,e){var i=t.dispatch;return i("UPDATE_RECOMMEND_ARTICLE",e)}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=new RegExp(t+"=([^;]*)"),i=e.exec(document.cookie);return null!=i?decodeURIComponent(i[1]):null}function s(t){if(null==t||"string"!=typeof t)return 0;var e=/[\u4e00-\u9fff]/g,i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return t.replace(e,"_").replace(i,"_").replace(/[<>]/g,"____").replace(/&/g,"_____").replace(/["]/g,"______").length}function a(t,e){e=e||window.location.search;var i={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(t,e,r,o){i[e]=o}),i[t]}function n(t){var e=$.Deferred();return $.customAjax(t,function(t,e,i,r,o,s){window.rec_rp&&window.rec_rp("event","upload_api_status",{id:t.url,cdn:e,statusCode:i,start:o,end:s,status:r,duration:s-o})}).then(function(t){if(t){var i=t&&t.code;i=parseInt(i,10),0===i?e.resolve(t):e.reject(t||"数据请求失败")}else e.reject("数据请求失败")},function(){e.reject("网络请求失败")}),e}function l(t){for(var e=t.length,i=void 0,r="",o=0;o<e;o++)i=t[o],0===i.status&&(r+="["+i.type+"]"+i.serverName+(i.isEdit?"":";"+encodeURIComponent(i.name)+";2;")+"[/"+i.type+"]"+(i.description?"[desc]"+i.description.replace(/\n|\r\n/g," ")+"[/desc]":"")+(e>1?"#p#"+(i.title?i.title:"P"+(o+1))+"#e#":"")+"\n");return r}function c(t){for(var e=t.length,i=void 0,r=[],o=0;o<e;o++)i=t[o],0===i.status&&r.push({description:i.description?i.description.replace(/\n|\r\n/g," "):"",filename:i.serverName,eptitle:i.title?i.title:"",index:o+1});return(0,h.default)(r)}function d(t){for(var e=t.offsetLeft,i=t.offsetParent;i;)e+=i.offsetLeft,i=i.offsetParent;return e}function u(t){for(var e=t.offsetTop,i=t.offsetParent;i;)e+=i.offsetTop,i=i.offsetParent;return e}Object.defineProperty(e,"__esModule",{value:!0});var p=i(3),h=r(p);e.getCookie=o,e.countWords=s,e.getParams=a,e.biliAjax=n,e.getBody=l,e.getVideos=c,e.getLeft=d,e.getTop=u,i(9)},function(t,e,i){t.exports={default:i(58),__esModule:!0}},function(t,e){var i=Object;t.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){var i=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=i)},function(t,e,i){var r=i(69),o=i(64);t.exports=function(t){return r(o(t))}},,function(t,e){"use strict";!function(t,e){e.customAjax=function(t,i){var r=(new Date).getTime(),o=t.complete;return t.timeout=t.timeout||1e4,t.complete=function(){for(var s=(new Date).getTime(),a=arguments.length,n=Array(a),l=0;l<a;l++)n[l]=arguments[l];var c=n[1],d=n[0]&&n[0].status,u=n[0]&&n[0].getResponseHeader("x-cache");e.isFunction(o)&&o.apply(t.context,n),e.isFunction(i)&&i(t,u,d,c,r,s)},e.ajax(t)}}(window,jQuery)},,,function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){t.exports=!i(14)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var r=i(5),o="__core-js_shared__",s=r[o]||(r[o]={});t.exports=function(t){return s[t]||(s[t]={})}},function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},function(t,e,i){var r=i(17)("wks"),o=i(18),s=i(5).Symbol;t.exports=function(t){return r[t]||(r[t]=s&&s[t]||(s||o)("Symbol."+t))}},,function(t,e,i){var r,o,s={};r=i(31),o=i(87),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(33),o=i(89),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(38),o=i(94),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(40),o=i(96),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(41),o=i(97),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{footer:""}},ready:function(){var t=this;$.ajax({url:"/subsystem/common/footer.html",cache:!0,success:function(e){t.footer=e}})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1);e.default={vuex:{actions:{handleLogin:r.handleLogin}},data:function(){return{header:""}},ready:function(){var t=this;$.ajax({url:"/subsystem/common/nav.html",cache:!0,success:function(e){t.header=e,$.ajax({url:"//static.hdslb.com/js/core-v5/base.core.js",dataType:"script",cache:!0,success:function(){window.onLoginInfoLoaded(function(e){t.handleLogin(e.isLogin)}),window.loadLoginStatus()}})}})}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=r(o),a=i(1);e.default={vuex:{getters:{text:function(t){var e=t.alert;return e.text},type:function(t){var e=t.alert;return e.type}},actions:{showAlert:a.showAlert,hideAlert:a.hideAlert,updateForm:a.updateForm,addFile:a.addFile,updateArticle:a.updateArticle}},data:function(){return{fixAlert:!1}},methods:{recordUpload:function(){this.hideAlert(),this.updateArticle("uploadStep",2);var t=localStorage.getItem("bili_upload_record")&&JSON.parse(localStorage.getItem("bili_upload_record"))||null,e=[];t&&t.videoLists&&t.videoLists.length&&(this.updateForm("copyright",t.copyright),this.updateForm("title",t.title),this.updateForm("tags",t.tags),this.updateForm("description",t.description),t.videoLists.forEach(function(t){e.push({serverName:t.serverName,status:0,type:t.type,title:t.title,description:t.description,name:t.name,percent:100,isEditTitle:!1,isEditDescription:!1,isLocal:!0})}),this.addFile(e)),localStorage.removeItem("bili_upload_record")},removeRecord:function(){this.hideAlert(),localStorage.removeItem("bili_upload_record")},hideNotify:function(){this.hideAlert(),localStorage.setItem("bili_upload_notify",(0,s.default)(!0))}},ready:function(){var t=this;$(window).on("scroll",function(){$(window).scrollTop()>=42?t.fixAlert=!0:t.fixAlert=!1})}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),s=i(2),a=i(106),n=r(a);e.default={vuex:{getters:{isCode:function(t){var e=t.article;return e.isCode},useCodeMode:function(t){var e=t.article;return e.useCodeMode},files:function(t){var e=t.article;return e.files},code:function(t){var e=t.form;return e.code}},actions:{updateForm:o.updateForm,updateArticle:o.updateArticle}},methods:{handleCode:function(t){this.updateForm("code",t.target.value)}},watch:{isCode:function(t){t&&this.updateForm("code",(0,s.getBody)(this.files))}},components:{Recommend:n.default}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(2);e.default={props:{copyright:Number,errorCopyright:String,isForm:{type:Boolean,required:!0},isTemplate:{type:Boolean,required:!0}},vuex:{getters:{isEdit:function(t){var e=t.article;return e.isEdit},missions:function(t){var e=t.article;return e.missions},comefrom:function(t){var e=t.form;return e.comefrom},formDisabled:function(t){var e=t.form;return e.specialTypeid},templateDisabled:function(t){var e=t.template;return e.specialTypeid},disabled:function(t){var e=t.form;return e.disabled},missionid:function(t){var e=t.form;return e.missionid},showElec:function(t){var e=t.article;return e.showElec},elecStat:function(t){var e=t.form;return e.elecStat}},actions:{updateForm:r.updateForm,updateTemplate:r.updateTemplate,updateArticle:r.updateArticle}},data:function(){return{currentMission:{mission_id:0,title:"不参加任何活动"},isJoinElec:!1,elecHint:'<a href="//member.bilibili.com/v/#!/charge" class="link" target="_blank">参加充电计划</a>, 让我为您的创作充电'}},created:function(){var t=this;this.isForm&&$.customAjax({url:"/v/elec/stat",dataType:"json"},function(t,e,i,r){window.rec_rp&&window.rec_rp("event","upload_api_status",{id:t.url,start:i,end:r,status:e,duration:r-i})}).then(function(e){e&&0===e.code&&e.data&&2===+e.data.state&&(t.isJoinElec=!0,0===t.elecStat&&t.updateArticle("showElec",!0))})},methods:{countWords:o.countWords,setCopyright:function(t){this.formDisabled||this.templateDisabled||this.disabled||(t=parseInt(t,10),this.errorCopyright="",2===t&&(this.errorCopyright=(0,o.countWords)(this.comefrom)>80?"转载来源最多输入80个字符":""),this.isForm?this.updateForm("copyright",t):this.isTemplate&&this.updateTemplate("copyright",t))},setMission:function(t){this.currentMission.mission_id!==t.mission_id&&(this.currentMission=t,this.updateForm("missionid",t.mission_id))},setComefrom:function(t){this.updateForm("comefrom",t.target.value),this.errorCopyright=(0,o.countWords)(t.target.value)>80?"转载来源最多输入80个字符":""},watchMissionid:function(t){var e=this;this.isEdit&&this.missions.forEach(function(i){i.mission_id===t&&(e.currentMission=i)})}},watch:{missionid:function(t){this.watchMissionid(t)},missions:function(){this.watchMissionid(this.missionid)}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(107),s=r(o),a=i(1);e.default={vuex:{getters:{cover:function(t){var e=t.form;return e.cover},coverUrl:function(t){var e=t.form;return e.coverUrl}},actions:{updateForm:a.updateForm,showAlert:a.showAlert}},components:{ImageCropper:s.default},data:function(){return{img:"",showCoverModal:!1,clipData:{},language:window.biliLanguage}},methods:{openCoverDialog:function(){var t=this.$els.coverInput;t.style.display="block",t.focus(),t.click(),t.style.display="none"},coverInputChange:function(t){var e=this,i=new FileReader;if(i.onloadend=function(){e.img=i.result,e.showCoverModal=!0,t.target.value=""},t.target.files&&t.target.files[0]){var r=t.target.files[0].fileName||t.target.files[0].name;/\.(jpg|png|gif|jpeg)$/i.test(r)?i.readAsDataURL(t.target.files[0]):(this.showAlert("text","图片文件格式不支持,请使用png、jpg或gif文件"),this.showAlert("type",3))}}},watch:{clipData:function(t){this.updateForm("cover",t.path),this.updateForm("coverUrl",t.url)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(2);e.default={props:{description:String,errorDescription:String,placeholder:String,isForm:{type:Boolean,required:!0},isTemplate:{type:Boolean,required:!0}},vuex:{actions:{updateForm:r.updateForm,updateTemplate:r.updateTemplate}},methods:{countWords:o.countWords,handleDescription:function(t){this.errorDescription="",this.isForm?this.updateForm("description",t.target.value):this.isTemplate&&this.updateTemplate("description",t.target.value)}},watch:{description:function(){(0,o.countWords)(this.description)>250&&(this.errorDescription="简介不能超过250个字符")}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(24),s=r(o),a=i(22),n=r(a),l=i(23),c=r(l),d=i(25),u=r(d),p=i(21),h=r(p),f=i(1);e.default={vuex:{getters:{isEdit:function(t){var e=t.article;return e.isEdit},copyright:function(t){var e=t.form;return e.copyright},comefrom:function(t){var e=t.form;return e.comefrom},typeid:function(t){var e=t.form;return e.typeid},title:function(t){var e=t.form;return e.title},titleDescription:function(t){var e=t.form;return e.titleDescription},tags:function(t){var e=t.form;return e.tags},description:function(t){var e=t.form;return e.description},originalPlaceholder:function(t){var e=t.form;return e.originalPlaceholder},copyPlaceholder:function(t){var e=t.form;return e.copyPlaceholder},templates:function(t){var e=t.article;return e.templates},disabled:function(t){var e=t.form;return e.disabled}},actions:{updateForm:f.updateForm,updateTemplate:f.updateTemplate}},props:{errorCopyright:String,errorTypeid:String,errorTitle:String,errorTag:String,errorDescription:String},components:{ArticleTitle:s.default,ArticleTags:c.default,ArticleDescription:n.default,ArticleTypes:u.default,ArticleCopyright:h.default},methods:{saveTemplate:function(){this.updateTemplate("show",!0),this.updateTemplate("isEdit",!1),this.updateTemplate("tid",""),this.updateTemplate("header","保存模版"),this.updateTemplate("name",""),this.updateTemplate("copyright",this.copyright),this.updateTemplate("typeid",this.typeid),this.updateTemplate("title",this.title),this.updateTemplate("tags",this.tags),this.updateTemplate("description",this.description)}},created:function(){if(!this.isEdit){var t=localStorage.getItem("bili_upload_typeid");this.updateForm("typeid",t&&JSON.parse(t)||"")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(2);e.default={vuex:{getters:{isEdit:function(t){var e=t.article;return e.isEdit},isCode:function(t){var e=t.article;return e.isCode},templates:function(t){var e=t.article;return e.templates}},actions:{updateArticle:r.updateArticle,updateForm:r.updateForm,updateTemplate:r.updateTemplate,removeTemplate:r.removeTemplate}},data:function(){return{showTemplate:!1,showManage:!1,dialogStyle:{},currentTemplate:null,errorMsg:""}},methods:{useTemplate:function(t){this.updateForm("copyright","Original"===t.arctype?1:"Copy"===t.arctype?2:0),this.updateForm("typeid",t.typeid),this.updateForm("title",t.title),this.updateForm("tags",t.tags),this.updateForm("description",t.description),this.updateTemplate("isUsed",!0)},addTemplate:function(){this.updateTemplate("show",!0),this.updateTemplate("isEdit",!1),this.updateTemplate("tid",""),this.updateTemplate("header","添加模版"),this.updateTemplate("name",""),this.updateTemplate("title",""),this.updateTemplate("copyright",0),this.updateTemplate("typeid",""),this.updateTemplate("tags",""),this.updateTemplate("description","")},editTemplate:function(t){this.updateTemplate("show",!0),this.updateTemplate("isEdit",!0),this.updateTemplate("tid",t.tid),this.updateTemplate("header","编辑模版"),this.updateTemplate("name",t.name),this.updateTemplate("title",t.title),this.updateTemplate("copyright","Original"===t.arctype?1:"Copy"===t.arctype?2:0),this.updateTemplate("typeid",t.typeid),this.updateTemplate("tags",t.tags),this.updateTemplate("description",t.description)},deleteTemplate:function(t){var e=this;this.errorMsg="",(0,o.biliAjax)({url:"/v/archive/template/"+t.tid,type:"DELETE",dataType:"json"}).then(function(){e.currentTemplate=null,e.removeTemplate(t.tid)},function(t){e.errorMsg=t,setTimeout(function(){e.errorMsg=""},1500)})}},ready:function(){var t=this;document.addEventListener("click",function(){t.showTemplate=!1},!1)}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=r(o);i(2);e.default={data:function(){return{breath:!1,language:window.biliLanguage,showLanguage:window.biliEnEnv,showTool:!1,toolInfo:{},protocal:'上传视频，即表示您已同意<a data-protocal href="https://passport.bilibili.com/register/licence" class="protocal-link link" target="_blank">哔哩哔哩使用协议</a>，请勿上传色情，反动等违法视频。'}},methods:{onDragOver:function(){this.breath=!0},onDragLeave:function(){this.breath=!1},onDrop:function(){this.breath=!1},chooseLanguage:function(t){localStorage.setItem("bili_upload_language",(0,s.default)(t)),window.location.reload()},getTool:function(){return $.ajax({url:"/v/index/tool",dataType:"json",data:{item_type:2},timeout:1e4})}},ready:function(){var t=this;window.rec_rp&&window.rec_rp("event","upload_home_show"),this.getTool().then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=+e.code,r=e.data||[];0===i&&r&&r.length&&(t.toolInfo=r[0],t.showTool=!0)})}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(112),s=r(o),a=i(109),n=r(a),l=i(115),c=r(l),d=i(111),u=r(d),p=i(110),h=r(p),f=i(105),v=r(f),m=i(114),g=r(m);i(44);var y=i(1),b=i(2);e.default={vuex:{getters:{isArticleApi:function(t){var e=t.article;return e.isArticleApi},uploadStep:function(t){var e=t.article;return e.uploadStep},isEdit:function(t){var e=t.article;return e.isEdit},isCode:function(t){var e=t.article;return e.isCode},useCodeMode:function(t){var e=t.article;return e.useCodeMode},uploadStatus:function(t){var e=t.article;return e.uploadStatus},files:function(t){var e=t.article;return e.files},copyright:function(t){var e=t.form;return e.copyright},comefrom:function(t){var e=t.form;return e.comefrom},typeid:function(t){var e=t.form;return e.typeid},title:function(t){var e=t.form;return e.title},tags:function(t){var e=t.form;return e.tags},description:function(t){var e=t.form;return e.description},code:function(t){var e=t.form;return e.code},cover:function(t){var e=t.form;return e.cover},coverUrl:function(t){var e=t.form;return e.coverUrl},missionid:function(t){var e=t.form;return e.missionid},showElec:function(t){var e=t.article;return e.showElec},elecStat:function(t){var e=t.form;return e.elecStat},isUsed:function(t){var e=t.template;return e.isUsed},recommend:function(t){var e=t.article;return e.recommendArticle},recommendArticleChanged:function(t){var e=t.article;return e.recommendArticleChanged}},actions:{updateForm:y.updateForm,updateArticle:y.updateArticle,addFile:y.addFile,hideAlert:y.hideAlert,showAlert:y.showAlert,updateTemplate:y.updateTemplate,handleArticleApi:y.handleArticleApi}},data:function(){return{isLoading:!1,errorSubmit:"",errorCopyright:"",errorTypeid:"",errorTitle:"",errorTag:"",errorDescription:"",autoUpload:!1,isEditLoading:!1,errorEdit:"",aid:""}},components:{ArticleHome:s.default,ArticleCover:n.default,ArticleUpload:c.default,FormHeader:u.default,ArticleForm:h.default,ArticleCode:v.default,TemplateModal:g.default},created:function(){var t=this;this.isEdit&&!function(){t.updateArticle("uploadStep",2);var e=void 0,i=t.aid=(0,b.getParams)("aid"),r=(0,b.getParams)("history"),o={url:"/v/archive/"+i,dataType:"json"};r&&(o.data={history:r}),t.isEditLoading=!0,(0,b.biliAjax)(o).then(function(i){var r=i.data;1===Number(r.archive_api)?(t.handleArticleApi(!0),e=[-2,-14]):(t.handleArticleApi(!1),e=[-1,-2,-7]),t.updateForm("disabled",e.indexOf(+r.state)===-1),t.updateForm("copyright",r.copyright),t.updateForm("typeid",r.typeid),t.updateForm("title",r.title),t.updateForm("tags",r.tags),t.updateForm("description",r.description),t.updateForm("cover",r.cover),t.updateForm("coverUrl",r.full_cover),t.updateForm("missionid",parseInt(r.mission_id,10)),t.updateArticle("showElec",1===+r.elec_stat),t.updateForm("elecStat",+r.elec_stat);var o=[];r.video&&r.video.forEach(function(e,i){o.push({name:e.part||"P"+(i+1),title:e.part||"P"+(i+1),description:t.isArticleApi?e.description:e.desc||"",serverName:t.isArticleApi?e.filename:e.link,status:0,percent:100,isEditTitle:!1,isEditDescription:!1,type:e.type,isEdit:!0})}),t.addFile(o),window.rec_rp&&window.rec_rp("event","upload_info_edit_show")},function(e){t.errorEdit=e&&e.msg||"页面加载出错",setTimeout(function(){location.href="http://www.bilibili.com"},3500)}).always(function(){t.isEditLoading=!1})}()},methods:{countWords:b.countWords,goHome:function(){location.href="http://www.bilibili.com"},checkForm:function(){var t=!0;return 0===this.copyright&&(this.errorCopyright="请选择稿件类型",t=!1),2!==this.copyright||this.comefrom||this.isEdit||(this.errorCopyright="请选择稿件出处",t=!1),2===this.copyright&&this.comefrom&&(0,b.countWords)(this.comefrom)>80&&(this.errorCopyright="转载来源最多输入80个字符",t=!1),this.typeid&&"0"!==this.typeid||(this.errorTypeid="请选择稿件分区",t=!1),("83"===this.typeid||"145"===this.typeid||"146"===this.typeid||"147"===this.typeid)&&this.files.length>1&&(this.errorTypeid="因数据结构调整优化，影视区的【欧美】【国产】【日本】【其他国家】分区合集投稿将无法通过审核",t=!1),this.title||(this.errorTitle="请输入稿件标题",t=!1),this.tags||(this.errorTag="请输入稿件标签",t=!1),this.description||(this.errorDescription="请填写稿件简介",t=!1),this.title&&(0,b.countWords)(this.title)>80&&(t=!1),this.description&&(0,b.countWords)(this.description)>250&&(t=!1),t},submitArticle:function(){this.errorSubmit="",this.useCodeMode?this.checkForm()?this.code?this.ajaxSubmit():this.errorSubmit="请填写代码模式内容":this.updateArticle("isCode",!1):this.checkForm()&&(1===this.uploadStatus?this.autoUpload=!0:0===this.uploadStatus&&((0,b.getBody)(this.files)?this.ajaxSubmit():this.errorSubmit="请选择上传文件"))},exitElec:function(t){return $.customAjax({url:"/v/elec/archive/stat/change",type:"POST",data:{status:"close",aid:t}},function(t,e,i,r){window.rec_rp&&window.rec_rp("event","upload_api_status",{id:t.url,start:i,end:r,status:e,duration:r-i})})},partinElec:function(t){return $.customAjax({url:"/v/elec/archive/stat/change",type:"POST",data:{status:"open",aid:t}},function(t,e,i,r){window.rec_rp&&window.rec_rp("event","upload_api_status",{id:t.url,start:i,end:r,status:e,duration:r-i})})},candidateArticle:function(t){return(0,b.biliAjax)({url:"/v/archive/"+t+"/recommend",dataType:"json",type:"POST",data:{ids:this.recommend.join(",")}})},ajaxSubmit:function(){var t=this;if(!this.isLoading)if(this.isLoading=!0,this.isEdit){var e=(0,b.getParams)("aid"),i=this.isArticleApi?"/v/archive/modify/"+e:"/v/archive/"+e;1!==this.elecStat||this.showElec||this.exitElec(e),0===this.elecStat&&this.showElec&&this.partinElec(e),this.recommend&&this.recommend.length&&e&&this.recommendArticleChanged&&this.candidateArticle(e).fail(function(){t.showAlert("text","关联稿件失败！请前往稿件编辑页面重新设置"),t.showAlert("type",1)});var r={copyright:this.copyright,cover:this.cover,title:this.title,typeid:this.typeid,tags:this.tags,keywords_change:1,description:this.description,mission_id:this.missionid};this.isArticleApi?r.videos=(0,b.getVideos)(this.files):r.body=this.useCodeMode?this.code:(0,b.getBody)(this.files),(0,b.biliAjax)({url:i,type:"POST",data:r,dataType:"json"}).then(function(e){t.hideAlert(),t.updateArticle("uploadStep",3),localStorage.removeItem("bili_upload_record")},function(e){t.errorSubmit=e&&e.msg||e,t.autoUpload=!1}).always(function(){t.isLoading=!1})}else{var o="/v/archive/submits",s={copyright:this.copyright,cover:this.cover,title:this.title,typeid:this.typeid,tags:this.tags,keywords_change:1,description:2===this.copyright?this.comefrom+" "+this.description:this.description,mission_id:1===this.copyright?this.missionid:0};s.videos=(0,b.getVideos)(this.files),(0,b.biliAjax)({url:o,type:"POST",data:s,dataType:"json"}).then(function(e){t.hideAlert(),t.updateArticle("uploadStep",3),localStorage.removeItem("bili_upload_record");var i=e&&e.data&&e.data.aid;t.recommend&&t.recommend.length&&i&&t.candidateArticle(i).fail(function(){t.showAlert("text","关联稿件失败！请前往稿件编辑页面重新设置"),t.showAlert("type",1)})},function(e){t.errorSubmit=e&&e.msg||e,t.autoUpload=!1}).always(function(){t.isLoading=!1})}}},watch:{uploadStatus:function(t){0===t&&this.autoUpload&&((0,b.getBody)(this.files)?this.ajaxSubmit():(this.errorSubmit="请选择上传文件",this.autoUpload=!1)),1===t?window.onbeforeunload=function(){return"有文件正在上传"}:window.onbeforeunload=function(){}},isCode:function(){this.errorSubmit=""},isUsed:function(){this.isUsed&&(1!==this.copyright&&2!==this.copyright||(this.errorCopyright=""),this.typeid&&"0"!==this.typeid&&(this.errorTypeid=""),this.title&&(0,b.countWords)(this.title)<=80&&(this.errorTitle=""),this.tags&&(this.errorTag=""),this.description&&(0,b.countWords)(this.description)<=250&&(this.errorDescription=""),this.updateTemplate("isUsed",!1))}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(2);e.default={props:{tags:{type:Array,coerce:function(t){return t&&t.split(",")||[]}},errorTag:String,isForm:{type:Boolean,required:!0},isTemplate:{type:Boolean,required:!0}},vuex:{actions:{updateForm:r.updateForm,updateTemplate:r.updateTemplate,storeTags:r.storeTags},getters:{storedTags:function(t){var e=t.article;return e.storedTags},disabled:function(t){var e=t.form;return e.disabled}}},data:function(){return{clsTimer:null,isFocus:!1,tag:"",recommendTags:[],aid:(0,o.getParams)("aid")}},methods:{countWords:o.countWords,updateTags:function(){this.isForm?this.updateForm("tags",this.tags.join(",")):this.isTemplate&&this.updateTemplate("tags",this.tags.join(","))},delTag:function(t){this.tags.splice(t,1),this.isFocus=!0,this.$els.tagInput.focus(),this.updateTags()},handleTag:function(t){return this.errorTag="",this.clsTimer&&clearTimeout(this.clsTimer),this.recommendTags=[],t?(0,o.countWords)(t)>20?void(this.errorTag="标签最长为20个字符"):this.tags.indexOf(t)>=0?void(this.errorTag="请不要输入重复标签"):this.tags.length>=10?void(this.errorTag="只能输入10个标签"):(this.tags.push(t),this.updateTags(),this.tag="",this.$els.tagInput.value="",void this.$els.tagInput.focus()):void(this.errorTag="标签内容不能为空")},addTag:function(t){this.tag=t.target.value,this.handleTag(this.tag.trim())},showRecommendTags:function(t){var e=this;this.errorTag="",this.recommendTags=[],this.tag=t.target.value;var i=this.tag.trim();return!i||(0,o.countWords)(i)>20?void(this.recommendTags=[]):(this.clsTimer&&clearTimeout(this.clsTimer),void(this.storedTags[i]?this.recommendTags=this.storedTags[i]:this.clsTimer=setTimeout(function(){$.ajax({url:"http://s.search.bilibili.com/main/suggest",data:{func:"suggest",suggest_type:"tag",main_ver:1,highlight:1,tag_num:5,term:i,rnd:Math.random()},jsonp:"jsoncallback",dataType:"jsonp"}).done(function(t){if(t){var r=t.code,o=t.result;0==r&&(e.storeTags(i,o),e.recommendTags=o)}})},300)))},hideRecommendTags:function(t){this.clsTimer&&clearTimeout(this.clsTimer),this.isFocus=!1,this.recommendTags=[]},addRecommendTag:function(t){this.handleTag(t)},removeTag:function(t){var e=t.target.value;!e&&this.tags&&this.tags.length&&(t.preventDefault(),this.tag=this.tags.pop(),this.updateTags())}},ready:function(){document.addEventListener("click",this.hideRecommendTags.bind(this),!1)}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(24),s=r(o),a=i(22),n=r(a),l=i(23),c=r(l),d=i(25),u=r(d),p=i(21),h=r(p),f=i(1),v=i(2);e.default={vuex:{getters:{show:function(t){var e=t.template;return e.show},isEdit:function(t){var e=t.template;return e.isEdit},tid:function(t){var e=t.template;return e.tid},header:function(t){var e=t.template;return e.header},name:function(t){var e=t.template;return e.name},copyright:function(t){var e=t.template;return e.copyright},typeid:function(t){var e=t.template;return e.typeid},title:function(t){var e=t.template;return e.title},titleDescription:function(t){var e=t.template;return e.titleDescription},tags:function(t){var e=t.template;return e.tags},description:function(t){var e=t.template;return e.description},originalPlaceholder:function(t){var e=t.template;return e.originalPlaceholder},copyPlaceholder:function(t){var e=t.template;return e.copyPlaceholder}},actions:{updateForm:f.updateForm,updateTemplate:f.updateTemplate,
addTemplate:f.addTemplate,alterTemplate:f.alterTemplate}},data:function(){return{isLoading:!1,errorName:"",errorCopyright:"",errorTypeid:"",errorTitle:"",errorTag:"",errorDescription:"",errorTemplate:"",language:window.biliLanguage}},components:{ArticleTitle:s.default,ArticleTags:c.default,ArticleDescription:n.default,ArticleTypes:u.default,ArticleCopyright:h.default},methods:{countWords:v.countWords,handleName:function(t){this.errorName="",this.updateTemplate("name",t.target.value)},saveTemplate:function(){var t=this;if(!this.isLoading){var e=!0;this.name&&this.name.trim()||(this.errorName="请输入模版名称",e=!1),this.title&&(0,v.countWords)(this.title)>80&&(e=!1),this.description&&(0,v.countWords)(this.description)>250&&(e=!1),e&&(this.isLoading=!0,this.errorTemplate="",this.isEdit?(0,v.biliAjax)({url:"/v/archive/template/"+this.tid,dataType:"json",type:"POST",data:{name:this.name,title:this.title,arctype:1===this.copyright?"Original":2===this.copyright?"Copy":"Original",typeid:this.typeid||"0",keywords:this.tags,description:this.description}}).then(function(e){t.alterTemplate({name:t.name,tid:t.tid,title:t.title,arctype:1===t.copyright?"Original":2===t.copyright?"Copy":"Original",typeid:t.typeid||"0",tags:t.tags,description:t.description}),t.updateTemplate("show",!1)},function(e){var i=e.msg;t.errorTemplate=i}).always(function(){t.isLoading=!1}):(0,v.biliAjax)({url:"/v/archive/template",dataType:"json",type:"POST",data:{name:this.name,title:this.title,arctype:1===this.copyright?"Original":2===this.copyright?"Copy":"Original",typeid:this.typeid||"0",keywords:this.tags,description:this.description}}).then(function(e){var i=e.tid;t.addTemplate({name:t.name,tid:i,title:t.title,arctype:1===t.copyright?"Original":2===t.copyright?"Copy":"Original",typeid:t.typeid||"0",tags:t.tags,description:t.description}),t.updateTemplate("show",!1)},function(e){var i=e.msg;t.errorTemplate=i}).always(function(){t.isLoading=!1}))}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(2);e.default={props:{title:String,titleDescription:String,errorTitle:String,isForm:{type:Boolean,required:!0},isTemplate:{type:Boolean,required:!0}},vuex:{actions:{updateForm:r.updateForm,updateTemplate:r.updateTemplate}},methods:{countWords:o.countWords,handleTitle:function(t){this.errorTitle="",this.isForm?this.updateForm("title",t.target.value):this.isTemplate&&this.updateTemplate("title",t.target.value)}},watch:{title:function(){(0,o.countWords)(this.title)>80&&(this.errorTitle="标题不能超过80个字符")}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=r(o),a=i(1);e.default={props:{typeid:{type:[String,Number],default:""},errorTypeid:String,isForm:{type:Boolean,required:!0},isTemplate:{type:Boolean,required:!0}},vuex:{getters:{isEdit:function(t){var e=t.article;return e.isEdit},types:function(t){var e=t.article;return e.types},files:function(t){var e=t.article;return e.files},disabled:function(t){var e=t.form;return e.disabled}},actions:{updateForm:a.updateForm,updateTemplate:a.updateTemplate,updateArticle:a.updateArticle,showAlert:a.showAlert}},data:function(){return{breadMain:"",breadSecond:"",parentid:"",isFind:!1}},methods:{updateTypeid:function(t){this.isForm?this.updateForm("typeid",t):this.isTemplate&&this.updateTemplate("typeid",t)},updateHelpData:function(t){this.errorTypeid="",this.isForm?(this.updateForm("titleDescription",t&&t.notice||""),this.updateForm("originalPlaceholder",t&&t.intro_original||"请输入简介"),this.updateForm("copyPlaceholder",t&&t.intro_copy||"请输入简介")):this.isTemplate&&(this.updateTemplate("titleDescription",t&&t.notice||""),this.updateTemplate("originalPlaceholder",t&&t.intro_original||"请输入简介"),this.updateTemplate("copyPlaceholder",t&&t.intro_copy||"请输入简介"))},setTypeid:function(t){this.updateTypeid(t.id)},watchTypeid:function(t){var e=!1;if(t=+t,t||0!==t)for(var i=this.types.length-1;i>=0;i--)for(var r=this.types[i].children,o=r.length-1;o>=0;o--){var a=r[o];+a.id===t&&(e=!0,this.breadMain=this.types[i].name,this.breadSecond=a.name,this.parentid=this.types[i].id,this.updateHelpData(a),this.isForm&&(this.isEdit||localStorage.setItem("bili_upload_typeid",(0,s.default)(t)),(83===t||145===t||146===t||147===t)&&this.files.length>1&&(this.showAlert("text","因数据结构调整优化，影视区的【欧美】【国产】【日本】【其他国家】分区合集投稿将无法通过审核"),this.showAlert("type",3))),54===t||86===t||32===t||33===t||51===t||83===t||145===t||146===t||147===t||37===t?this.isForm?(this.updateForm("copyright",2),this.updateForm("specialTypeid",!0)):this.isTemplate&&(this.updateTemplate("copyright",2),this.updateTemplate("specialTypeid",!0)):this.isForm?this.updateForm("specialTypeid",!1):this.isTemplate&&this.updateTemplate("specialTypeid",!1))}this.isFind=e,e||(this.errorTypeid="",this.isEdit?this.updateForm("typeid",t):this.updateForm("typeid",""),this.updateForm("specialTypeid",!1),this.updateTemplate("specialTypeid",!1),this.updateHelpData(!1),this.breadMain="",this.breadSecond="",this.parentid="",this.isForm&&!this.isEdit&&localStorage.removeItem("bili_upload_typeid"))}},watch:{types:function(){this.typeid&&"0"!==this.typeid&&this.watchTypeid(this.typeid)},typeid:function(t){this.types&&this.types.length&&this.watchTypeid(t)}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=r(o),a=i(1),n=i(2),l=i(43),c=r(l),d=void 0,u=void 0;e.default={vuex:{getters:{isArticleApi:function(t){var e=t.article;return e.isArticleApi},isEdit:function(t){var e=t.article;return e.isEdit},files:function(t){var e=t.article;return e.files},title:function(t){var e=t.form;return e.title},typeid:function(t){var e=t.form;return e.typeid},copyright:function(t){var e=t.form;return e.copyright},tags:function(t){var e=t.form;return e.tags},description:function(t){var e=t.form;return e.description},uploadStatus:function(t){var e=t.article;return e.uploadStatus}},actions:{updateForm:a.updateForm,addFile:a.addFile,removeFile:a.removeFile,switchFile:a.switchFile,updateArticle:a.updateArticle,showAlert:a.showAlert,hideAlert:a.hideAlert}},data:function(){return{currentFile:null,isShowHint:!1,isAdded:!1}},filters:{cutTitle:function(t){var e=(0,n.countWords)(t);if(e>15){for(;(e=(0,n.countWords)(t))>15;)t=t.slice(0,-1);return t+"..."}return t}},methods:{startUpload:function(t){window.rec_rp&&window.rec_rp("event","upload_start",{browser:encodeURIComponent(navigator.userAgent),filename:t.serverName,filesize:t.total,time:Date.now()})},successUpload:function(t){window.rec_rp&&window.rec_rp("event","upload_success",{browser:encodeURIComponent(navigator.userAgent),filename:t.serverName,filesize:t.total,avg_speed:Math.floor(t.bitrate),time:Date.now()})},failUpload:function(t){window.rec_rp&&window.rec_rp("event","upload_fail",{browser:encodeURIComponent(navigator.userAgent),filename:t.serverName,filesize:t.total,avg_speed:Math.floor(t.bitrate),process:t.percent,time:Date.now()})},reUpload:function(t,e){window.rec_rp&&(window.rec_rp("event","upload_retry",{browser:navigator.userAgent,filename:t.serverName,filesize:t.total,avg_speed:Math.floor(t.bitrate),time:Date.now()}),$(e.target).stop(!0,!0).animate({fontWeight:700},500,function(){$(e.target).animate({fontWeight:400},500)}))},showEdit:function(t,e){this.files.length<2||(e.isEditTitle=!0,e.isEditDescription=!0,this.$nextTick(function(){$(t.target).parents(".status-wrp").find(".name-input").focus()}))},handleTitle:function(t,e){e.title=t.target.value;var i=(0,n.countWords)(e.title);if(i>80){for(;(i=(0,n.countWords)(e.title))>80;)e.title=e.title.slice(0,-1);t.target.value=e.title}},editTitle:function(t,e){e.title=t.target.value.trim();var i=(0,n.countWords)(e.title);if(i>80)for(;(i=(0,n.countWords)(e.title))>80;)e.title=e.title.slice(0,-1);0===i&&(e.title=e.name.slice(0,e.name.lastIndexOf(".")===-1?e.name.length:e.name.lastIndexOf("."))),t.target.value=e.title,e.isEditTitle=!1},handleDescription:function(t,e){e.description=t.target.value;var i=(0,n.countWords)(e.description);if(i>250)for(;(i=(0,n.countWords)(e.description))>250;)e.description=e.description.slice(0,-1);t.target.value=e.description},fixUploadUrl:function(t){var e={};this.isEdit?this.isArticleApi&&(e.profile="ugcfr/web"):e.profile="ugcfr/web",$.ajax({url:"/get_vupload_url",cache:!1,dataType:"json",data:e}).then(function(e){var i=e&&e.url,r=e&&e.file_name;i&&r?(t.url=i,t.serverName=r,t.errorUrl=!1,t.status=1,t.upload()):(t.status=3,t.errorUrl=!0)},function(){t.status=3,t.errorUrl=!0})},initUpload:function(){var t=this,e=((0,n.getCookie)("DedeUserID"),{uploadBtn:document.querySelectorAll(".upload-btn"),dropElem:document.getElementById("homeDrop"),maxSize:2147483648,allowTypes:["mp4","flv"],chunkSize:2097152,maxRetries:30,retryInterval:60});return d=new c.default(e),d.support?(d.init(),d.on("AddFiles",function(e){if(t.updateArticle("uploadStatus",d.uploadStatus()),!t.isAdded){t.showAlert("text",""),t.showAlert("type",0),localStorage.removeItem("bili_upload_record"),t.updateArticle("uploadStep",2),t.isAdded=!0,t.title||t.updateForm("title",e[0].title);var i=localStorage.getItem("bili_upload_notify")&&JSON.parse(localStorage.getItem("bili_upload_notify"))||!1;i||(t.showAlert("text","因数据结构调整优化，影视区的【欧美】【国产】【日本】【其他国家】分区合集投稿将无法通过审核"),t.showAlert("type",4)),t.isEdit||window.rec_rp&&window.rec_rp("event","upload_info_show")}e.forEach(function(e){e.isEditTitle=!1,e.isEditDescription=!1,e.serverName="",e.type="vupload";var i=e.uniqueIdentifer,r=localStorage.getItem(i)&&JSON.parse(localStorage.getItem(i));if(r&&r.url&&r.serverName&&Date.now()-r.date<1728e5)e.loaded=r.loaded,e.url=r.url,e.percent=r.percent,e.serverName=r.serverName,e.title=r.title,e.description=r.description,e.upload(),t.addFile(e),t.startUpload(e);else{var o={};t.isEdit?t.isArticleApi&&(o.profile="ugcfr/web"):o.profile="ugcfr/web",$.ajax({url:"/get_vupload_url",cache:!1,dataType:"json",data:o}).then(function(i){var r=i&&i.url,o=i&&i.file_name;r&&o?(e.date=Date.now(),e.url=r,e.serverName=o,e.upload()):(e.status=3,e.errorUrl=!0),t.addFile(e),t.startUpload(e)},function(){e.status=3,e.errorUrl=!0,t.addFile(e)})}})}),d.on("Error",function(e,i){0===e?(t.showAlert("text","文件过大，请上传2G以内视频"),t.showAlert("type",3)):1===e?(t.showAlert("text","视频格式错误，请上传FLV或MP4格式"),t.showAlert("type",3)):2===e?(t.showAlert("text","请不要上传重复视频"),t.showAlert("type",3)):3===e&&t.failUpload(i),t.updateArticle("uploadStatus",d.uploadStatus())}),d.on("FileProgress",function(e){t.updateArticle("uploadStatus",d.uploadStatus())}),d.on("RemoveFile",function(){t.updateArticle("uploadStatus",d.uploadStatus())}),d.on("FilePause",function(){t.updateArticle("uploadStatus",d.uploadStatus())}),void d.on("FileComplete",function(e){t.updateArticle("uploadStatus",d.uploadStatus()),t.successUpload(e)})):(this.showAlert("text","您的浏览器版本过低，请使用较新版本的浏览器"),void this.showAlert("type",3))},storeUploadedFile:function(){if(!this.isEdit){var t=localStorage.getItem("bili_upload_record")&&JSON.parse(localStorage.getItem("bili_upload_record"))||{};t.videoLists=[],this.files.forEach(function(e){0!==e.status||e.isEdit||e.isLocal||t.videoLists.push({serverName:e.serverName,name:e.name,title:e.title,description:e.description,type:e.type,percent:100})}),t.videoLists.length?(t.copyright=this.copyright,t.title=this.title,t.tags=this.tags,t.description=this.description,localStorage.setItem("bili_upload_record",(0,s.default)(t))):localStorage.removeItem("bili_upload_record")}}},ready:function(){var t=this;(0,n.biliAjax)({url:"/v/account/myinfo",dataType:"json"}).then(function(e){var i=e.data;if(i.banned)return t.showAlert("text","您的帐号已被禁用，无法使用投稿！"),void t.showAlert("type",3);if(i.level<1)return t.showAlert("text","您的等级不足lv1，无法使用投稿！"),void t.showAlert("type",3);if(t.initUpload(),!t.isEdit){var r=localStorage.getItem("bili_upload_record")&&JSON.parse(localStorage.getItem("bili_upload_record"))||null;r&&r.videoLists&&r.videoLists.length&&(t.showAlert("text","有上次未提交的稿件信息，是否继续？"),t.showAlert("type",5))}},function(e){t.showAlert("text",e&&e.msg||"获取帐号信息失败，请检查您的网络"),t.showAlert("type",3)})},watch:{"files.length":function(){var t=this,e=this.files.length;e>1&&!u?(i.e(1,function(e){var r=i(20);u=r.create(document.getElementById("sortWrp"),{onEnd:function(e){t.switchFile(e.oldIndex,e.newIndex)},forceFallback:!0})}),this.isShowHint=!0):e<=1&&(u&&u.destroy(),u=null,this.files.forEach(function(t){t.isEditTitle=!1,t.isEditDescription=!1})),this.storeUploadedFile()},uploadStatus:function(t){0===t&&this.storeUploadedFile()}}}},function(t,e,i){function r(t){return t&&t.__esModule?t:{default:t}}var o,s=i(57),a=r(s),n=i(3),l=r(n);!function r(s){function n(t){return null==t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function c(t,e){var i,r,o;if(t)if("number"===n(i=t.length)){for(r=0;r<i;r++)if(e(t[r],r,t)===!1)return}else if("object"===n(t))for(o in t)if(t.hasOwnProperty(o)&&e(t[o],o,t)===!1)return}function d(t){return c(arguments,function(e,i){i>0&&c(e,function(e,i){"undefined"!==e&&(n(t[i])!==n(e)||"array"!==n(e)&&"object"!==n(e)?t[i]=e:d(t[i],e))})}),t}function u(t){return(t.size||t.fileSize)+"_"+(t.name||t.fileName)}function p(t){return t>2097152?"> 2 mb/s":t<1024?"< 1 kb/s":t>=1048576?(t/1024/1024).toFixed(1)+" mb/s":(t/1024).toFixed(0)+" kb/s"}function h(t){var e="en"===window.biliLanguage;if(t=Math.floor(t),t>86400)return"> 1"+(e?"days":"天");if(t<60)return"< 1"+(e?"miniutes":"分");var i=3600,r=60,o=Math.floor(t/i),s=Math.floor((t-o*i)/r);return t=t-o*i-s*r,o<10&&(o="0"+o),s<10&&(s="0"+s),t<10&&(t="0"+t),isNaN(o)||isNaN(s)||isNaN(t)?"--:--:--":o+":"+s+":"+t}function f(t,e){var i=g.maxSize,r=g.allowTypes,o=g.allowDuplicate,s=[],a=!1;c(t,function(t){var e,l,c=(t.name||t.fileName).toLowerCase(),d=t.size||t.fileSize;if(i&&d>i)return m.trigger("Error",0),a=!0,!1;if("number"===n(r.length)){var p=!1;for(e=0,l=r.length;e<l;e++){var h="."+r[e];if(c.indexOf(h,c.length-h.length)>=0){p=!0;break}}if(!p)return m.trigger("Error",1),a=!0,!1}if(t.uniqueIdentifer=u(t),!o)for(e=m.files.length-1;e>=0;e--)if(m.files[e].uniqueIdentifer===t.uniqueIdentifer)return m.trigger("Error",2),a=!0,!1;var f=new v(t,m);s.push(f)}),a?(s=[],a=!1):(m.files=m.files.concat(s),setTimeout(function(){m.trigger("AddFiles",s)},0))}function v(t,e){var i=function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},r=function(){return Date.now()||(new Date).getTime()},o=this,s=g.chunkSize;this.xhr=null;var a,n=null,c=r(),d=g.throttleProgress;this.loaded=0,this.name=t.name||t.fileName,this.total=t.size||t.fileSize,this.percent=0,this.bitrate=0,this.humanBitrate="0 kb/s",this.doneTime="--:--:--",this.chunks=Math.max(Math.ceil(this.total/s),1),this.chunkSize=s,this.url=g.target,this.maxRetries=g.maxRetries,this.retryInterval=g.retryInterval,this.uniqueIdentifer=t.uniqueIdentifer,this.status=1,this.title=t.name.slice(0,t.name.lastIndexOf(".")),this.description="";var u,f=function(t){var e=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),o=t.getHours(),s=t.getMinutes(),a=t.getSeconds();return e+""+(i<10?"0"+i:i)+(r<10?"0"+r:r)+(o<10?"0"+o:o)+(s<10?"0"+s:s)+(a<10?"0"+a:a)};this.upload=function(){if(a=0,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",function(t){var i=r(),s=i-c;s>=d&&(o.bitrate=(t.loaded-a)/s*1e3,o.humanBitrate=p(o.bitrate),o.doneTime=h((o.total-o.loaded)/o.bitrate),a=t.loaded,c=r(),o.status=1,e.trigger("FileProgress",o)),o.percent=Math.floor((o.loaded+t.loaded)/o.total*100)},!1),this.xhr.addEventListener("load",function(t){o.maxRetries=g.maxRetries;var i,r,s=o.xhr.response&&JSON.parse(o.xhr.response)||o.xhr.responseText&&JSON.parse(o.xhr.responseText),a=o.xhr.getAllResponseHeaders();window.rec_rp&&(u=new Date,window.rec_rp("event","reupload_response",{response:s&&(0,l.default)(s)||"",headers:a&&(0,l.default)(a)||"",filename:o.serverName,size:s&&s.files&&s.files[0]&&s.files[0].size,date:f(u),originDate:u.getTime(),type:"response"})),s&&s.files&&s.files[0]?(i=s.files[0],r=i.size,o.loaded=r,o.xhr&&o.xhr.abort(),o.xhr=null,r<o.total?(e.trigger("ChunkComplete",o),localStorage.setItem(o.uniqueIdentifer,(0,l.default)({uniqueIdentifer:o.uniqueIdentifer,loaded:r,percent:Math.floor(r/o.total*100),url:o.url,serverName:o.serverName,date:o.date,title:o.title,description:o.description,chunks:o.chunks})),o.upload()):(o.status=0,o.percent=100,e.trigger("FileComplete",o),localStorage.removeItem(o.uniqueIdentifer))):(o.xhr&&o.xhr.abort(),o.xhr=null,o.upload())},!1),this.xhr.addEventListener("error",function(t){window.rec_rp&&(u=new Date,window.rec_rp("event","reupload_response",{loaded:o.loaded,total:o.total,filename:o.serverName,name:o.name,date:f(u),originDate:u.getTime(),type:"error"})),o.xhr&&o.xhr.abort(),o.xhr=null,o.bitrate=0,o.status=3,e.trigger("Error",3,o),o.maxRetries&&(n=setInterval(function(){0===--o.retryInterval&&(o.retry(),e.trigger("ReUpload",o),o.retryInterval=g.retryInterval,o.maxRetries--)},1e3))},!1),this.loaded<this.total){window.rec_rp&&(u=new Date,window.rec_rp("event","reupload_response",{loaded:o.loaded,total:o.total,filename:o.serverName,name:o.name,date:f(u),originDate:u.getTime(),type:"post"})),this.xhr.open("POST",this.url,!0);var v,m=new FormData;this.loaded+s<this.total?(v=i.call(t,this.loaded,this.loaded+s,t.type),this.xhr.setRequestHeader("Content-Range","bytes "+this.loaded+"-"+(this.loaded+s-1)+"/"+this.total)):(v=i.call(t,this.loaded,this.total,t.type),this.xhr.setRequestHeader("Content-Range","bytes "+this.loaded+"-"+(this.total-1)+"/"+this.total)),m.append("files[]",v,this.name),m.append("chunk",Math.ceil(this.loaded/s)+1),m.append("chunks",this.chunks),m.append("name",this.name),m.append("offset",this.loaded),m.append("filesize",this.total),this.xhr.send(m)}},this.cancel=function(){clearInterval(n),this.xhr&&(this.xhr.abort(),this.xhr=null);for(var t=e.files.length-1;t>=0;t--)e.files[t].uniqueIdentifer===this.uniqueIdentifer&&e.files.splice(t,1);e.trigger("RemoveFile",this)},this.pause=function(){clearInterval(n),this.xhr&&(this.xhr.abort(),this.xhr=null),this.status=2,e.trigger("FilePause",this)},this.retry=function(){clearInterval(n),this.xhr&&this.xhr.abort(),this.xhr=null,this.status=1,this.retryInterval=g.retryInterval,this.upload()}}if(!(this instanceof r))return new r(s);this.support="undefined"!=typeof File&&"undefined"!=typeof FormData&&"undefined"!=typeof FileList&&"undefined"!=typeof Blob&&(Blob.prototype.webkitSlice||Blob.prototype.mozSlice||Blob.prototype.slice);var m=this;this.files=[],this.defaults={chunkSize:1048576,url:null,maxSize:null,allowTypes:null,allowDuplicate:!1,maxRetries:0,retryInterval:0,uploadBtn:null,dropElem:null,throttleProgress:1500};var g=d({},this.defaults,s);this.events=[],this.on=function(t,e){this.events.push(t.toLowerCase(),e)},this.trigger=function(){var t,e,i=[];for(t=0,e=arguments.length;t<e;t++)i.push(arguments[t]);var r=i[0].toLowerCase();for(t=0,e=this.events.length;t<e;t+=2)this.events[t]===r&&this.events[t+1].apply(this,i.slice(1))},this.init=function(){var t=g.uploadBtn,e=g.dropElem;t&&"number"!==n(t.length)&&(t=[t]),c(t,function(t){var e;t&&"input"===t.tagName&&"file"===t.type?e=t:(e=document.createElement("input"),e.setAttribute("type","file"),e.style.display="none",t&&t.addEventListener("click",function(){e.style.opacity=0,e.style.display="block",e.focus(),e.click(),e.style.display="none"},!1),t&&t.appendChild(e)),e.removeAttribute("multiple"),e.setAttribute("accept",".flv, .mp4"),e.addEventListener("change",function(t){f(t.target.files,t),t.target.value=""},!1)}),e&&"number"!==n(e.length)&&(e=[e]),c(e,function(t){t&&t.addEventListener("dragover",function(t){t.stopPropagation(),t.preventDefault()},!1),t&&t.addEventListener("dragenter",function(t){t.stopPropagation(),t.preventDefault()},!1),t&&t.addEventListener("drop",function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer&&t.dataTransfer.files&&f(t.dataTransfer.files,t)},!1)})},this.isuploading=function(){var t=!1;return c(this.files,function(e){if(1===e.status)return t=!0,!1}),this.files&&0===this.files.length&&(t=!1),t},this.iscomplete=function(){var t=!0;return c(this.files,function(e){if(0!==e.status)return t=!1,!1}),this.files&&0===this.files.length&&(t=!0),t},this.uploadStatus=function(){return this.iscomplete()?0:1},"object"===(0,a.default)(e)&&"undefined"!=typeof t?t.exports=r:(o=function(){return r}.call(e,i,e,t),!(void 0!==o&&(t.exports=o)))}()},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(55),s=r(o),a=i(56),n=r(a),l={getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e}},c=function(t){var e="dropdown",i="bs.dropdown",r="."+i,o=".data-api",a=t.fn[e],c=27,d=38,u=40,p=3,h={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click"+r+o,KEYDOWN_DATA_API:"keydown"+r+o},f={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},v={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},m=function(){function e(t){(0,s.default)(this,e),this._element=t,this._addEventListeners()}return(0,n.default)(e,[{key:"toggle",value:function(){if(this.disabled||t(this).hasClass(f.DISABLED))return!1;var i=e._getParentFromElement(this),r=t(i).hasClass(f.OPEN);if(e._clearMenus(),r)return!1;if("ontouchstart"in document.documentElement&&!t(i).closest(v.NAVBAR_NAV).length){var o=document.createElement("div");o.className=f.BACKDROP,t(o).insertBefore(this),t(o).on("click",e._clearMenus)}var s={relatedTarget:this},a=t.Event(h.SHOW,s);return t(i).trigger(a),!a.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded","true"),t(i).toggleClass(f.OPEN),t(i).trigger(t.Event(h.SHOWN,s)),!1)}},{key:"dispose",value:function(){t.removeData(this._element,i),t(this._element).off(r),this._element=null}},{key:"_addEventListeners",value:function(){t(this._element).on(h.CLICK,this.toggle)}}],[{key:"_jQueryInterface",value:function(r){return this.each(function(){var o=t(this).data(i);if(o||t(this).data(i,o=new e(this)),"string"==typeof r){if(void 0===o[r])throw new Error('No method named "'+r+'"');o[r].call(this)}})}},{key:"_clearMenus",value:function(i){if(!i||i.which!==p){var r=t(v.BACKDROP)[0];r&&r.parentNode.removeChild(r);for(var o=t.makeArray(t(v.DATA_TOGGLE)),s=0;s<o.length;s++){var a=e._getParentFromElement(o[s]),n={relatedTarget:o[s]};if(t(a).hasClass(f.OPEN)&&!(i&&"click"===i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(a,i.target))){var l=t.Event(h.HIDE,n);t(a).trigger(l),l.isDefaultPrevented()||(o[s].setAttribute("aria-expanded","false"),t(a).removeClass(f.OPEN).trigger(t.Event(h.HIDDEN,n)))}}}}},{key:"_getParentFromElement",value:function(e){var i=void 0,r=l.getSelectorFromElement(e);return r&&(i=t(r)[0]),i||e.parentNode}},{key:"_dataApiKeydownHandler",value:function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)&&(i.preventDefault(),i.stopPropagation(),!this.disabled&&!t(this).hasClass(f.DISABLED))){var r=e._getParentFromElement(this),o=t(r).hasClass(f.OPEN);if(!o&&i.which!==c||o&&i.which===c){if(i.which===c){var s=t(r).find(v.DATA_TOGGLE)[0];t(s).trigger("focus")}return void t(this).trigger("click")}var a=t.makeArray(t(v.VISIBLE_ITEMS));if(a=a.filter(function(t){return t.offsetWidth||t.offsetHeight}),a.length){var n=a.indexOf(i.target);i.which===d&&n>0&&n--,i.which===u&&n<a.length-1&&n++,n<0&&(n=0),a[n].focus()}}}}]),e}();return t(document).on(h.KEYDOWN_DATA_API,v.DATA_TOGGLE,m._dataApiKeydownHandler).on(h.KEYDOWN_DATA_API,v.ROLE_MENU,m._dataApiKeydownHandler).on(h.KEYDOWN_DATA_API,v.ROLE_LISTBOX,m._dataApiKeydownHandler).on(h.CLICK_DATA_API,m._clearMenus).on(h.CLICK_DATA_API,v.DATA_TOGGLE,m.prototype.toggle).on(h.CLICK_DATA_API,v.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=a,m._jQueryInterface},m}(jQuery);e.default=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={type:0,text:""},r={SHOW_ALERT:function(t,e,i){t[e]=i},HIDE_ALERT:function(t){t.type=0,t.text=""}};e.default={state:i,mutations:r}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),o={isLogin:!1,isArticleApi:!1,uploadStep:1,storedTags:{},types:[],templates:[],missions:[{mission_id:0,title:"不参加任何活动"}],files:[],uploadStatus:0,titleDescription:"",isCode:!1,useCodeMode:!1,isEdit:"edit"===(0,r.getParams)("type"),showElec:!1,recommendArticle:[],recommendArticleChanged:!1},s={HANDLE_LOGIN:function(t,e){t.isLogin=e},HANDLE_ARTICLE_API:function(t,e){t.isArticleApi=e},STORE_RECOMMEND_TAGS:function(t,e,i){t.storedTags[e]=i},STORE_TYPES:function(t,e){t.types=e},STORE_MISSIONS:function(t,e){e=e.map(function(t){return t.mission_id=parseInt(t.mission_id,10),t}),t.missions=t.missions.concat(e)},STORE_TEMPLATES:function(t,e){t.templates=e},UPDATE_ARTICLE:function(t,e,i){t[e]=i},REMOVE_TEMPLATE:function(t,e){for(var i=0,r=t.templates.length;i<r;i++)if(t.templates[i].tid===e){t.templates.splice(i,1);break}},ADD_TEMPLATE:function(t,e){t.templates.push(e)},ALTER_TEMPLATE:function(t,e){for(var i=0,r=t.templates.length;i<r;i++)if(t.templates[i].tid===e.tid){t.templates.splice(i,1,e);break}},ADD_FILE:function(t,e){t.files=t.files.concat(e)},REMOVE_FILE:function(t,e){t.files.splice(e,1)},SWITCH_FILE:function(t,e,i){var r=t.files.splice(e,1)[0];t.files.splice(i,0,r)},UPDATE_RECOMMEND_ARTICLE:function(t,e){t.recommendArticle=e}};e.default={state:o,mutations:s}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={copyright:0,missionid:0,comefrom:"",title:"",titleDescription:"",tags:"",description:"",originalPlaceholder:"",copyPlaceholder:"",typeid:"",specialTypeid:!1,code:"",disabled:!1,cover:"",coverUrl:"",elecStat:0},r={UPDATE_FORM:function(t,e,i){t[e]=i}};e.default={state:i,mutations:r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={show:!1,isEdit:!1,tid:"",header:"",name:"",copyright:0,title:"",titleDescription:"",tags:"",description:"",originalPlaceholder:"",copyPlaceholder:"",typeid:"",specialTypeid:!1,isUsed:!1},r={UPDATE_TEMPLATE:function(t,e,i){t[e]=i}};e.default={state:i,mutations:r}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),s=r(o),a=i(26),n=r(a),l=i(45),c=r(l),d=i(46),u=r(d),p=i(47),h=r(p),f=i(48),v=r(f);s.default.use(n.default),e.default=new n.default.Store({modules:{alert:c.default,article:u.default,form:h.default,template:v.default}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),o=i(1);e.default={vuex:{getters:{isEdit:function(t){var e=t.article;return e.isEdit},recommend:function(t){var e=t.article;return e.recommendArticle}},actions:{updateRecommendArticle:o.updateRecommendArticle,updateArticle:o.updateArticle}},data:function(){return{inputId:"",list:[],aid:"",delIndex:null,fetchXhr:null,recommendXhr:null,errMsg:""}},watch:{list:{handler:function(t){var e=[];t.map(function(t){e.push(t.aid)}),this.updateRecommendArticle(e)},deep:!0},inputId:function(t){t&&0!==t.length||(this.errMsg="")}},computed:{valid:function(){return/^\d+$/.test(this.inputId.trim())},canAdd:function(){return this.valid&&this.list.length<8}},created:function(){this.isEdit&&(this.aid=(0,r.getParams)("aid"),this.fetch())},methods:{fetch:function(){var t=this;this.fetchXhr||(this.fetchXhr=(0,r.biliAjax)({url:"/v/archive/"+this.aid+"/recommend",dataType:"json"}).then(function(e){var i=e.data;t.list=t.list.concat(i)},function(e){t.errMsg=e.msg||e}).always(function(){this.fetchXhr=null}))},add:function(){var t=this;if(this.canAdd){this.errMsg="";var e=this.inputId.trim();if(this.recommendXhr||this.recommend.indexOf(e)>=0)return;this.recommendXhr=(0,r.biliAjax)({url:"/v/archive/candidate/"+e,dataType:"json"}).then(function(e){var i=e.data;t.list.push(i),t.inputId="",t.updateArticle("recommendArticleChanged",!0)},function(e){t.errMsg=e.msg||e}).always(function(){t.recommendXhr=null})}},del:function(){this.list.splice(this.delIndex,1),this.delIndex=null,this.updateArticle("recommendArticleChanged",!0)}}}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(108),s=r(o);e.default={props:{img:{default:""},show:{default:!1},clipData:{default:""}},components:{SelectBox:s.default},data:function(){return{$srcImg:null,$resImg:null,$input:null,$imgContainer:null,$preContainer:null,nw:0,nh:0,radio:1.6,data:null,uploading:!1,error:"",minW:160,minH:100}},watch:{img:function(){this.$srcImg.src=this.img,this.$resImg.src=this.img}},events:{selectChange:function(){var t=this.$refs.box.rec;t.w>0&&t.h>0&&this.updatePreview()}},ready:function(){this.$input=this.$el.querySelectorAll("#file_input")[0],this.$srcImg=this.$el.querySelectorAll("#clip_src_img")[0],this.$resImg=this.$el.querySelectorAll("#clip_res_img")[0],this.$imgContainer=this.$el.querySelectorAll(".img-container")[0],this.$preContainer=this.$el.querySelectorAll(".pre-container")[0]},beforeDestroy:function(){},methods:{getButtonText:function(){return this.uploading?"上传中..":"确认"},fileChange:function(t){var e=this,i=new FileReader,r="";i.onloadend=function(){e.img=i.result,t.target.value=""},this.$input.files&&this.$input.files[0]&&(r=this.$input.files[0].fileName||this.$input.files[0].name,/\.(jpg|png|gif|jpeg)$/i.test(r)?(this.error="",this.img="",i.readAsDataURL(this.$input.files[0])):this.error="文件格式不支持,请使用png、jpg或gif文件")},srcImgLoaded:function(){this.nw=this.$srcImg.naturalWidth,this.nh=this.$srcImg.naturalHeight,this.clearSelect(),this.setImgSize(),this.updatePreview()},setImgSize:function(){var t=this.nw/this.nh,e=480,i=300,r=0,o=0,s=0,a=0,n=0;t>=this.radio?(r=e,o=e/t,s=(i-o)/2,n=o,a=n*this.radio):(o=i,r=i*t,a=r,n=a/this.radio),this.$imgContainer.setAttribute("style","width:"+r+"px;height:"+o+"px;top:"+s+"px;"),r<this.minW||o<this.minH?(this.$refs.box.lock=!0,this.error="长宽比例差异过大,请重新选择"):(this.$refs.box.lock=!1,this.error="",this.$refs.box.rec={w:a,h:n,l:0,t:0},this.$broadcast("containerSizeChange",{w:r,h:o}))},clearSelect:function(){var t=this.$refs.box;t&&t.clearRec()},getComputedRec:function(t){var e=this.$imgContainer.offsetWidth,i=this.$imgContainer.offsetHeight,r=e/this.nw,o=i/this.nh;return{l:t.l/r,t:t.t/o,w:t.w/r,h:t.h/o}},updatePreview:function(){var t=this.$refs.box.rec,e=this.$preContainer.offsetWidth,i=this.$preContainer.offsetHeight,r=e/t.w,o=i/t.h,s=r*this.$imgContainer.offsetWidth,a=o*this.$imgContainer.offsetHeight,n=-t.l*r,l=-t.t*o;this.$resImg.setAttribute("style","width:"+s+"px;height:"+a+"px;top:"+l+"px;left:"+n+"px;")},clip:function(){var t=this.$refs.box.rec;if(t.w&&t.h){var e=document.createElement("canvas"),i=e.getContext("2d"),r=this.getComputedRec(t);e.width=r.w,e.height=r.h,i.drawImage(this.$srcImg,-r.l,-r.t,this.nw,this.nh),this.data=e.toDataURL("image/jpeg",.8)}},confirm:function(){var t=this;this.uploading||this.$refs.box.lock||(this.error="",this.uploading=!0,this.clip(),$.ajax({type:"POST",url:"/v/archive/cover",dataType:"json",data:{cover:this.data}}).done(function(e){0===parseInt(e.code)?(t.clipData=e.data,t.show=!1,t.img=""):t.error=e.msg||"上传图片失败"}).fail(function(){t.error="请求失败"}).always(function(){t.uploading=!1}))},cancel:function(){this.show=!1,this.img=""}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(2);e.default={props:{radio:{default:1.6},minWidth:{default:160},minHeight:{default:100},img:{default:null}},components:{},data:function(){return{rec:{w:0,h:0,l:0,t:0},parent:{l:0,t:0},action:"",actionPoint:{x:0,y:0},referPoint:{x:0,y:0},$rec:null,lock:!1}},computed:{showBox:function(){
return this.rec.w&&this.rec.h}},watch:{rec:{handler:function(){this.drawRec()},deep:!0}},ready:function(){this.$rec=this.$el.querySelectorAll(".crop-box")[0],this.$img=this.$el.querySelectorAll(".shadow-img")[0],this.$shadowBox=this.$el.querySelectorAll(".shadow-box")[0],window.addEventListener("mouseup",this.disableDrag),window.addEventListener("mousemove",this.updateRec),this.$on("containerSizeChange",function(t){this.$img.style.width=t.w+"px",this.$img.style.height=t.h+"px"})},beforeDestory:function(){window.removeEventListener("mouseup",this.disableDrag),window.removeEventListener("mousemove",this.updateRec)},methods:{initAction:function(t,e,i){this.action=t,this.pl=(0,r.getLeft)(this.$el),this.pt=(0,r.getTop)(this.$el),this.actionPoint={x:e,y:i},this.referPoint={x:this.rec.l,y:this.rec.t},"drag-lt"===t?this.referPoint={x:this.rec.l+this.rec.w,y:this.rec.t+this.rec.h}:"drag-lb"===t?this.referPoint={x:this.rec.l+this.rec.w,y:this.rec.t}:"drag-rt"===t?this.referPoint={x:this.rec.l,y:this.rec.t+this.rec.h}:"drag-rb"===t&&(this.referPoint={x:this.rec.l,y:this.rec.t})},pointMouseDown:function(t,e){this.initAction(t,e.pageX,e.pageY),e.stopPropagation()},boxMouseDown:function(t){this.initAction("move",t.pageX,t.pageY),t.stopPropagation()},wrapMouseDown:function(t){this.rec.w&&this.rec.h||(this.initAction("cross",t.pageX,t.pageY),this.rec={w:0,h:0,l:t.pageX-this.pl,t:t.pageY-this.pt},t.stopPropagation())},disableDrag:function(){this.action&&(this.action="",this.$dispatch("selectEnd"))},clearRec:function(){this.action="",this.rec={w:0,h:0,l:0,t:0}},updateRec:function(t){if(this.action&&!this.lock){var e=this.$el.offsetWidth,i=this.$el.offsetHeight,r=t.pageX-this.actionPoint.x,o=t.pageY-this.actionPoint.y,s=t.pageX,a=t.pageY,n=0,l=0,c=0,d=0;if(0!==r||0!==o){if("move"===this.action&&(c=o+this.referPoint.y,d=r+this.referPoint.x,c<=0?c=0:c+this.rec.h>=i&&(c=i-this.rec.h),d<=0?d=0:d+this.rec.w>=e&&(d=e-this.rec.w),this.rec.l=d,this.rec.t=c),"cross"===this.action&&(r>0&&o>0?(n=r+this.rec.l>=e?e-this.rec.l:r,l=n/this.radio,l+this.rec.t>i&&(l=i-this.rec.t,n=l*this.radio),this.rec.w=n,this.rec.h=l):r>0&&o<0?(n=r+this.referPoint.x>=e?e-this.referPoint.x:r,l=n/this.radio,l>=this.referPoint.y&&(l=this.referPoint.y,n=l*this.radio),this.rec.t=this.referPoint.y-l,this.rec.w=n,this.rec.h=l):r<0&&o<0?(n=r+this.referPoint.x<=0?this.referPoint.x:-r,l=n/this.radio,l>=this.referPoint.y&&(l=this.referPoint.y,n=l*this.radio),this.rec.t=this.referPoint.y-l,this.rec.l=this.referPoint.x-n,this.rec.w=n,this.rec.h=l):r<0&&o>0&&(n=r+this.referPoint.x<=0?this.referPoint.x:-r,l=n/this.radio,l+this.referPoint.y>=i&&(l=i-this.referPoint.y,n=l*this.radio),this.rec.l=this.referPoint.x-n,this.rec.w=n,this.rec.h=l)),"drag-lt"===this.action||"drag-rt"===this.action||"drag-lb"===this.action||"drag-rb"===this.action){if(n=s-(this.referPoint.x+this.pl),l=a-(this.referPoint.y+this.pt),Math.abs(n)<this.minWidth||Math.abs(l)<this.minHeight)return;n<0&&l<0?(n=n*-1>=this.referPoint.x?this.referPoint.x:n*-1,l=n/this.radio,l>=this.referPoint.y&&(l=this.referPoint.y,n=l*this.radio),this.rec.l=this.referPoint.x-n,this.rec.t=this.referPoint.y-l):n<0&&l>0?(n=n*-1>=this.referPoint.x?this.referPoint.x:n*-1,l=n/this.radio,l>=i-this.referPoint.y&&(l=i-this.referPoint.y,n=l*this.radio),this.rec.l=this.referPoint.x-n,this.rec.t=this.referPoint.y):n>0&&l<0?(n=n>=e-this.referPoint.x?e-this.referPoint.x:n,l=n/this.radio,l>=this.referPoint.y&&(l=this.referPoint.y,n=l*this.radio),this.rec.l=this.referPoint.x,this.rec.t=this.referPoint.y-l):n>0&&l>0&&(n=n>=e-this.referPoint.x?e-this.referPoint.x:n,l=n/this.radio,l>=i-this.referPoint.y&&(l=i-this.referPoint.y,n=l*this.radio),this.rec.l=this.referPoint.x,this.rec.t=this.referPoint.y),this.rec.w=n,this.rec.h=l}this.$dispatch("selectChange")}}},drawRec:function(){this.$rec||(this.$rec=this.$el.querySelectorAll(".crop-box")[0]),this.$rec.setAttribute("style","width:"+this.rec.w+"px;height:"+this.rec.h+"px;left:"+this.rec.l+"px;top:"+this.rec.t+"px;z-index:2;"),this.$shadowBox.setAttribute("style","width:"+this.rec.w+"px;height:"+this.rec.h+"px;left:"+this.rec.l+"px;top:"+this.rec.t+"px;z-index:1;"),this.$img.style.left=-this.rec.l+"px",this.$img.style.top=-this.rec.t+"px"}}}},function(t,e,i){t.exports={default:i(59),__esModule:!0}},function(t,e,i){t.exports={default:i(60),__esModule:!0}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=i(53),s=r(o);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,s.default)(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}()},function(t,e,i){"use strict";var r=i(54).default;e.default=function(t){return t&&t.constructor===r?"symbol":typeof t},e.__esModule=!0},function(t,e,i){var r=i(6);t.exports=function(t){return(r.JSON&&r.JSON.stringify||JSON.stringify).apply(JSON,arguments)}},function(t,e,i){var r=i(4);t.exports=function(t,e,i){return r.setDesc(t,e,i)}},function(t,e,i){i(77),i(76),t.exports=i(6).Symbol},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var r=i(71);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){var r=i(61);t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,o){return t.call(e,i,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var r=i(4);t.exports=function(t){var e=r.getKeys(t),i=r.getSymbols;if(i)for(var o,s=i(t),a=r.isEnum,n=0;s.length>n;)a.call(t,o=s[n++])&&e.push(o);return e}},function(t,e,i){var r=i(5),o=i(6),s=i(63),a="prototype",n=function(t,e,i){var l,c,d,u=t&n.F,p=t&n.G,h=t&n.S,f=t&n.P,v=t&n.B,m=t&n.W,g=p?o:o[e]||(o[e]={}),y=p?r:h?r[e]:(r[e]||{})[a];p&&(i=e);for(l in i)c=!u&&y&&l in y,c&&l in g||(d=c?y[l]:i[l],g[l]=p&&"function"!=typeof y[l]?i[l]:v&&c?s(d,r):m&&y[l]==d?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[a]=t[a],e}(d):f&&"function"==typeof d?s(Function.call,d):d,f&&((g[a]||(g[a]={}))[l]=d))};n.F=1,n.G=2,n.S=4,n.P=8,n.B=16,n.W=32,t.exports=n},function(t,e,i){var r=i(7),o=i(4).getNames,s={}.toString,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(t){try{return o(t)}catch(t){return a.slice()}};t.exports.get=function(t){return a&&"[object Window]"==s.call(t)?n(t):o(r(t))}},function(t,e,i){var r=i(4),o=i(16);t.exports=i(13)?function(t,e,i){return r.setDesc(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var r=i(12);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,i){var r=i(12);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var r=i(4),o=i(7);t.exports=function(t,e){for(var i,s=o(t),a=r.getKeys(s),n=a.length,l=0;n>l;)if(s[i=a[l++]]===e)return i}},function(t,e){t.exports=!0},function(t,e,i){t.exports=i(68)},function(t,e,i){var r=i(4).setDesc,o=i(15),s=i(19)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,s)&&r(t,s,{configurable:!0,value:e})}},function(t,e){},function(t,e,i){"use strict";var r=i(4),o=i(5),s=i(15),a=i(13),n=i(66),l=i(74),c=i(14),d=i(17),u=i(75),p=i(18),h=i(19),f=i(72),v=i(67),m=i(65),g=i(70),y=i(62),b=i(7),w=i(16),x=r.getDesc,_=r.setDesc,T=r.create,A=v.get,E=o.Symbol,S=o.JSON,P=S&&S.stringify,D=!1,M=h("_hidden"),F=r.isEnum,k=d("symbol-registry"),I=d("symbols"),O="function"==typeof E,C=Object.prototype,L=a&&c(function(){return 7!=T(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a})?function(t,e,i){var r=x(C,e);r&&delete C[e],_(t,e,i),r&&t!==C&&_(C,e,r)}:_,j=function(t){var e=I[t]=T(E.prototype);return e._k=t,a&&D&&L(C,t,{configurable:!0,set:function(e){s(this,M)&&s(this[M],t)&&(this[M][t]=!1),L(this,t,w(1,e))}}),e},$=function(t){return"symbol"==typeof t},N=function(t,e,i){return i&&s(I,e)?(i.enumerable?(s(t,M)&&t[M][e]&&(t[M][e]=!1),i=T(i,{enumerable:w(0,!1)})):(s(t,M)||_(t,M,w(1,{})),t[M][e]=!0),L(t,e,i)):_(t,e,i)},R=function(t,e){y(t);for(var i,r=m(e=b(e)),o=0,s=r.length;s>o;)N(t,i=r[o++],e[i]);return t},U=function(t,e){return void 0===e?T(t):R(T(t),e)},W=function(t){var e=F.call(this,t);return!(e||!s(this,t)||!s(I,t)||s(this,M)&&this[M][t])||e},B=function(t,e){var i=x(t=b(t),e);return!i||!s(I,e)||s(t,M)&&t[M][e]||(i.enumerable=!0),i},H=function(t){for(var e,i=A(b(t)),r=[],o=0;i.length>o;)s(I,e=i[o++])||e==M||r.push(e);return r},q=function(t){for(var e,i=A(b(t)),r=[],o=0;i.length>o;)s(I,e=i[o++])&&r.push(I[e]);return r},z=function(t){if(void 0!==t&&!$(t)){for(var e,i,r=[t],o=1,s=arguments;s.length>o;)r.push(s[o++]);return e=r[1],"function"==typeof e&&(i=e),!i&&g(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!$(e))return e}),r[1]=e,P.apply(S,r)}},J=c(function(){var t=E();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))});O||(E=function(){if($(this))throw TypeError("Symbol is not a constructor");return j(p(arguments.length>0?arguments[0]:void 0))},l(E.prototype,"toString",function(){return this._k}),$=function(t){return t instanceof E},r.create=U,r.isEnum=W,r.getDesc=B,r.setDesc=N,r.setDescs=R,r.getNames=v.get=H,r.getSymbols=q,a&&!i(73)&&l(C,"propertyIsEnumerable",W,!0));var K={for:function(t){return s(k,t+="")?k[t]:k[t]=E(t)},keyFor:function(t){return f(k,t)},useSetter:function(){D=!0},useSimple:function(){D=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var e=h(t);K[t]=O?e:j(e)}),D=!0,n(n.G+n.W,{Symbol:E}),n(n.S,"Symbol",K),n(n.S+n.F*!O,"Object",{create:U,defineProperty:N,defineProperties:R,getOwnPropertyDescriptor:B,getOwnPropertyNames:H,getOwnPropertySymbols:q}),S&&n(n.S+n.F*(!O||J),"JSON",{stringify:z}),u(E,"Symbol"),u(Math,"Math",!0),u(o.JSON,"JSON",!0)},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports="<div> {{{footer}}} </div>"},function(t,e){t.exports="<div> {{{header}}} </div>"},function(t,e){t.exports="<div class=alert-wrp :class=\"{'is-fixed': fixAlert, 'is-info': type === 1 || type === 4 || type === 5, 'is-error': type == 3}\" v-if=\"type !== 0\"> <span>{{text | translate}}</span> <button class=btn @click=hideAlert v-if=\"type === 1 || type === 3\">{{'知道了' | translate}}</button> <button class=btn v-if=\"type === 4\" @click=hideNotify data-alert-hide>{{'不再提醒' | translate}}</button> <button class=btn v-if=\"type === 5\" @click=recordUpload data-record-show>{{'继续' | translate}}</button> <button class=\"btn is-close\" v-if=\"type === 5\" @click=removeRecord data-record-hide>{{'不用了' | translate}}</button> </div>"},function(t,e){t.exports="<div class=\"section code-wrp\"> <recommend></recommend> <div v-show=false> <h3>{{'代码模式' | translate}}</h3> <textarea @input=handleCode($event) disabled={{!useCodeMode}} :class=\"{'is-disabled': !useCodeMode}\">{{code}}</textarea> <div class=control-group style=\"margin-top: 15px\"> <label class=\"control control-checkbox\" @click.prevent.stop=\"updateArticle('useCodeMode', !useCodeMode)\"> <input type=checkbox :class=\"{'is-checked': useCodeMode}\"><span :style=\"{color: useCodeMode ? '#e40c0c' : ''}\">{{useCodeMode ? '启用代码模式可能会导致稿件损坏，请谨慎使用！' : '启用代码模式'}}</span> <div class=control-indicator></div> </label> </div> </div> </div>"},function(t,e){t.exports='<div class="section copyright-wrp"> <h3>{{\'投稿类型\' | translate}}</h3> <div> <div class=control-group :style="{marginBottom: copyright && isForm && (isEdit && copyright !== 2 || !isEdit) ? \'15px\' : \'0\'}"> <label class="control control-radio" data-article-copyright @click.prevent=setCopyright(1) :class="{\'is-disabled\': isForm ? formDisabled || disabled : isTemplate ? templateDisabled : false}">{{\'自制\' | translate}} <input type=radio name=copyright value=1 disabled="{{isForm ? formDisabled || disabled : isTemplate ? templateDisabled : false}}" :class="{\'is-disabled\': isForm ? formDisabled || disabled : isTemplate ? templateDisabled : false, \'is-checked\': copyright === 1}"> <div class=control-indicator></div> </label> <label class="control control-radio" data-article-copyright @click.prevent=setCopyright(2) :class="{\'is-disabled\': isForm ? formDisabled || disabled: isTemplate ? templateDisabled : false}">{{\'转载\' | translate}} <input type=radio name=copyright value=2 disabled="{{isForm ? formDisabled || disabled: isTemplate ? templateDisabled : false}}" :class="{\'is-disabled\': isForm ? formDisabled || disabled: isTemplate ? templateDisabled : false, \'is-checked\': copyright === 2}"> <div class=control-indicator></div> </label> </div> <div class=control-group style="margin-bottom: 15px" v-show="copyright === 1 && isJoinElec && isEdit"> <label class="control control-checkbox" @click.prevent.stop="updateArticle(\'showElec\', !showElec)"> <input type=checkbox :class="{\'is-checked\': showElec}">{{\'在视频播放页显示充电面板\' | translate}} <div class=control-indicator></div> </label> </div> <div class=elec-hint v-if="isForm && !isJoinElec && (!isEdit || isEdit && copyright !== 2)"> {{{elecHint | translate}}} </div> <div v-if=isForm> <div v-show="copyright === 1" class=dropdown> <div class="btn-group mission-group"> <button class=btn>{{currentMission.title}}</button> <button class="icon icon-arrow btn" data-toggle="{{isEdit ? \'\' : \'dropdown\'}}" :class="{\'is-disabled\': isEdit}"></button> </div> <ul class="dropdown-menu mission-menu"> <li v-for="mission in missions" class=menu-item track-by=$index @click=setMission(mission)>{{mission.title}}</li> </ul> </div> <div v-show="copyright === 2 && !isEdit"> <input class=bili-input type=text :value=comefrom @input=setComefrom($event) :class="{\'is-error\': errorCopyright}" placeholder="{{\'转载视频请注明来源，来源会显示在视频播放页的简介中\' | translate}}"> </div> </div> <div class=error-wrp v-if=errorCopyright> <i class="icon icon-error"></i> {{errorCopyright | translate}} </div> </div> </div>'},function(t,e){t.exports="<div class=cover-wrp> <div class=cover-box :class=\"{'is-en': language === 'en', 'is-pic': coverUrl && coverUrl !== 'http://static.hdslb.com/images/transparent.gif'}\" @click=openCoverDialog> <img class=cover-preview v-if=coverUrl :src=coverUrl> <div class=cover-mask>{{'修改封面' | translate}}</div> <input v-el:cover-input type=file accept=image/* @change=coverInputChange data-cover-click v-el:cover-input> </div> <div class=cover-tip-wrp> <div class=cover-arrow-border></div> <div class=cover-arrow></div> <div class=\"tip-list clearfix\"> <div class=\"left dot\"></div> <div class=\"left tip-text\">{{'建议上传高清封面≥960*600' | translate}}</div> </div> <div class=\"tip-list clearfix\"> <div class=\"left dot\"></div> <div class=\"left tip-text\">{{'与视频内容差异过大或没有上传图片，将自动截取影片画面' | translate}}</div> </div> </div> <image-cropper v-ref:cropper :img.sync=img :show.sync=showCoverModal :clip-data.sync=clipData> </image-cropper> </div>"},function(t,e){t.exports='<div class="section template-description-wrp" style="margin: 0"> <h3>{{\'视频简介\' | translate}}</h3> <div> <div class=description-wrp :class="{\'is-error\': errorDescription}"> <textarea @input=handleDescription($event) :placeholder=placeholder>{{description}}</textarea> <div class=count-wrp>{{countWords(description)}}/250</div> </div> <div class=error-wrp v-if=errorDescription> <i class="icon icon-error"></i> {{errorDescription | translate}} </div> </div> </div>'},function(t,e){t.exports='<div> <article-copyright :is-form=true :is-template=false :copyright=copyright :error-copyright=errorCopyright></article-copyright> <article-types :is-form=true :is-template=false :typeid=typeid :error-typeid=errorTypeid></article-types> <article-title :is-form=true :is-template=false :title=title :title-description=titleDescription :error-title=errorTitle></article-title> <article-tags :is-form=true :is-template=false :tags=tags :error-tag=errorTag></article-tags> <article-description :is-form=true :is-template=false :description=description :placeholder="copyright === 2 ? copyPlaceholder : copyright === 1 ? originalPlaceholder : \'请输入简介\' | translate" :error-description=errorDescription></article-description> <a href="javascript: void(0);" data-template-save @click=saveTemplate class="template-btn link" v-if="templates && templates.length < 5 && !isEdit"> <i class="icon icon-template"></i>{{\'保存模版\' | translate}} </a> </div>'},function(t,e){t.exports='<div> <div class="form-header clearfix"> <div class="left tab-wrp"> <div class=tab :class="{\'is-selected\': isCode === false}" @click="updateArticle(\'isCode\', false)" data-header-base>{{\'基本信息\' | translate}}</div> <div class=tab :class="{\'is-selected\': isCode === true}" @click="updateArticle(\'isCode\', true)" data-header-high>{{\'高级设置\' | translate}}</div> </div> <div class=template-wrp> <div class=template-hint :class="{\'is-disabled\': isEdit}" @click.stop="showTemplate = (isEdit ? false : !showTemplate)">{{\'使用投稿模板\' | translate}}</div> <div class="icon icon-setting manage-btn" :class="{\'is-disabled\': isEdit}" @click="showManage = (isEdit ? false : true)"></div> <div class=line></div> </div> <ul class=template-menu v-if="templates && templates.length === 0 && showTemplate"> <li class="menu-item is-empty"></li> <li class="menu-item add-btn" @click=addTemplate></li> </ul> <ul class=template-menu v-if="templates && templates.length > 0 && showTemplate"> <li class=menu-item v-for="template in templates" track-by=$index :style="{\'margin-right\': ($index + 1) % 3 === 0 ? 0 : \'\'}" @click=useTemplate(template) data-template-use> <span class=name>{{template.name}}</span> </li> <li class="menu-item add-btn" v-if="templates && templates.length < 5" @click=addTemplate></li> </ul> </div> <div class="modal-mask modal-manage" v-if=showManage transition=modal> <div class=modal-wrp> <div class="modal-container is-manage"> <div class=modal-header> {{\'模版管理\' | translate}} <i class="icon icon-close modal-close" @click="showManage = false, currentTemplate = null"></i> </div> <div class=modal-body> <ul class="template-menu clearfix"> <li class=menu-item v-for="template in templates" track-by=$index :style="{\'margin-right\': ($index + 1) % 4 === 0 ? 0 : \'50px\'}"> <span class=name>{{template.name}}</span> <div class="act-wrp clearfix"> <button class="btn edit-btn" @click=editTemplate(template)><i class="icon icon-edit"></i> {{\'编辑\' | translate}}</button> <button class="btn del-btn" @click="currentTemplate = template"><i class="icon icon-del"></i> {{\'删除\' | translate}}</button> </div> <div class=confirm-wrp v-if="currentTemplate && currentTemplate.tid === template.tid"> <div class=title>{{\'确定要删除吗？\' | translate}}</div> <div class=btn-group> <button type=button class="btn ok" :class="{\'hint--bottom hint--error hint--rounded hint--always\': errorMsg}" data-hint={{errorMsg}} @click=deleteTemplate(template)>{{\'确定\' | translate}}</button> <button type=button class="btn cancel" @click="currentTemplate = null">{{\'取消\' | translate}}</button> </div> </div> </li> <li class="menu-item add-btn" @click.prevent=addTemplate v-if="templates && templates.length < 5"></li> </ul> </div> </div> </div> </div> </div>'},function(t,e){t.exports='<div class=home-wrp> <div class="home-box bili-box" id=homeDrop @dragover.prevent.stop=onDragOver @dragleave.prevent.stop=onDragLeave @drop.prevent.stop=onDrop :class="{\'is-drag\': breath}"> <div class="home-btn upload-btn" :class="{\'is-en\': language === \'en\'}" data-home-button></div> <div class=home-hint>{{\'拖拽视频到此处也可上传\' | translate}}</div> <div class=language-wrp v-if=showLanguage> <a @click="chooseLanguage(\'chinese\')" class=link>中文版</a> <a @click="chooseLanguage(\'english\')" class=link>English</a> </div> </div> <div class=home-help>{{\'对新版投稿有任何建议请邮件反馈到uploader@bilibili.com\' | translate}}</div> <div class="home-footer bili-box clearfix" :class="{\'is-en\': language === \'en\'}"> <div class="left box-wrp help-wrp"> <h3 class=title>{{\'帮助及说明\' | translate}}</h3> <ul class=help-menu> <li> <span class=dot></span> <span>{{{protocal | translate}}}</span> </li> <li> <span class=dot></span> <span>{{\'请保持上传的视频文件大小在2G以内\' | translate}}</span> </li> <li> <span class=dot></span> <span>{{\'请保持视频码率不超过1800kbps，音频码率不超过192kbps，否则会被系统再次压制\' | translate}}</span> </li> </ul> <ul class="qa-list clearfix"> <li> <a data-notice href=http://www.bilibili.com/html/help.html#f1 target=_blank class="left qa-link qa-help"><i class="icon icon-article"></i><span>{{\'投稿须知\' | translate}}</span></a> </li> <li> <a data-help href=http://www.bilibili.com/html/help.html#introduction target=_blank class="left qa-link qa-faq"><i class="icon icon-qa"></i><span>{{\'常见问题\' | translate}}</span></a> </li> </ul> </div> <div class="left box-wrp client-wrp"> <h3 class=title>{{\'工具下载\' | translate}}</h3> <div class=tool-row v-if=showTool> <h3>{{\'投稿工具\' | translate}}</h3> <a data-upload-tool :href=toolInfo.link class="tool-btn office" target=_blank> <i class="icon icon-new"></i><i class="icon icon-office-client"></i>{{toolInfo.content + \' \' + toolInfo.remark}} </a> </div> <div class=tool-row> <h3>{{\'压制工具\' | translate}}</h3> <a data-xiaowan class="tool-btn original" target=_blank href=http://dl.hdslb.com/video-press/xiaowantoolsrev194.zip> <i class="icon icon-client"></i>{{\'小丸版原版\' | translate}} </a> <a data-xiaowan-bilibili class="tool-btn custom" target=_blank href=http://dl.hdslb.com/video-press/BiliBiliEncoder.zip> <i class="icon icon-tv-client"></i>{{\'小丸版bilibili定制版\' | translate}} </a> </div> </div> <div class=box-line></div> </div> </div>'},function(t,e){t.exports='<div class=main> <div class=container v-show="uploadStep === 1"> <article-home></article-home> </div> <div class="container bili-box" v-show="uploadStep === 2"> <div class="form-wrp clearfix"> <div class="left col-l"> <article-cover></article-cover> </div> <div class="right col-r"> <article-upload></article-upload> <div v-show=!autoUpload> <form-header></form-header> <article-form v-show=!isCode :error-copyright=errorCopyright :error-typeid=errorTypeid :error-title=errorTitle :error-tag=errorTag :error-description=errorDescription></article-form> <article-code v-show=isCode></article-code> </div> <div class=wait-wrp v-show=autoUpload> <div class="wait-header clearfix"> {{\'稿件信息填写完成\' | translate}} <i class="icon icon-success"></i> </div> <div class=wait-pic></div> <div class=wait-hint>{{\'等待视频上传完后会自动提交\' | translate}} <a href="javascript: void(0);" class="wait-btn link" @click="autoUpload = false">{{\'取消自动提交\' | translate}}</a></div> </div> </div> </div> <div class=submit-wrp v-show=!autoUpload> <div class=auto-wrp v-show="uploadStatus === 1"> <i class="icon icon-bottom-arrow auto-btn"></i> <span class=auto-hint>{{\'保存稿件信息，上传完成后自动提交\' | translate}}</span> </div> <button class="btn submit-btn" @click=submitArticle data-submit data-code-status={{isCode.toString()}} data-upload-status={{uploadStatus}}>{{\'提交稿件\' | translate}}</button> <div class=error>{{errorSubmit | translate}}</div> </div> </div> <div v-show="uploadStep === 2" class=email-link>{{\'对新版投稿有任何建议请邮件反馈到uploader@bilibili.com\' | translate}}</div> <div class="container bili-box" v-show="uploadStep === 3"> <div class=success-wrp> <div class=header></div> <div class=hint><span class=outline>{{title.slice(0, 15)}}</span>{{\'稿件已成功投递，等待审核\' | translate}}</div> <div class=hint>若你的稿件没有立刻显示在稿件列表中，请耐心等待5分钟</div> <div class=pic></div> <a class=button href=http://member.bilibili.com/v/#!/article>{{\'查看稿件\' | translate}}</a> <a class=button href=http://member.bilibili.com/v/video/submit.html>{{\'再投一个\' | translate}}</a> </div> </div> <div class=edit-wrp v-if="isEdit && isEditLoading"> <div class=content>{{\'正在读取稿件信息。。。\' | translate}}</div> </div> <div class=edit-wrp v-if="isEdit && errorEdit"> <div class=content> <span>{{errorEdit | translate}}</span> <a href="javascript: void(0);" @click=goHome>{{\'如果你的浏览器没反应，请点击这里\' | translate}}...</a> </div> </div> <template-modal></template-modal> </div>'},function(t,e){t.exports='<div class=section> <h3>{{\'添加标签\' | translate}}</h3> <div v-show=!disabled> <div class="tag-wrp clearfix" @click.prevent.stop="$els.tagInput.focus(), isFocus = true" :class="{\'is-focus\': isFocus, \'is-error\': errorTag}"> <div class=tag-item v-for="tag in tags" track-by=$index @click.prevent.stop=delTag($index)> <i class="icon icon-tag"></i>{{tag}} <div class=del-line></div> </div> <div class=recommend-wrp> <input type=text @input=showRecommendTags($event) @keyup.enter=addTag($event) @focus=showRecommendTags($event) :value=tag v-el:tag-input class=bili-input placeholder="{{\'按回车键完成输入\' | translate}}" @keydown.delete=removeTag($event)> <ul class="recommend-menu dropdown-menu" v-show="recommendTags && recommendTags.length"> <li class=menu-item v-for="tag in recommendTags" @click.prevent.stop=addRecommendTag(tag.value) track-by=$index> {{{tag.name}}} </li> </ul> </div> </div> <div class=tag-hint>{{\'还可以输入\' | translate}}{{10 - this.tags.length}}{{\'个标签\' | translate}}</div> <div class=error-wrp v-if=errorTag> <i class="icon icon-error"></i> {{errorTag | translate}} </div> </div> <div v-show=disabled> <div class="tag-wrp is-disabled"> {{\'标签请去相对应的稿件页面进行编辑\' | translate}}<a class=link target=_blank :href="\'http://www.bilibili.com/video/av\' + aid">{{\'点这里\' | translate}}</a> </div> </div> </div>'},function(t,e){t.exports='<div class="modal-mask modal-template" v-show=show transition=modal :class="{\'is-en\': language === \'en\'}"> <div class=modal-wrp> <div class="modal-container is-template"> <div class=modal-header> {{header | translate}} <i class="icon icon-close modal-close" @click="updateTemplate(\'show\', false)"></i> </div> <div class=modal-body> <div class=section> <h3>{{\'模版名称\' | translate}}</h3> <div> <div class=name-wrp> <input class=bili-input type=text @input=handleName($event) :value=name :class="{\'is-error\': errorName}" placeholder="{{\'请输入模版名称\' | translate}}"> </div> <div class=error-wrp v-if=errorName> <i class="icon icon-error"></i> {{errorName | translate}} </div> </div> </div> <article-title :is-form=false :is-template=true :title=title :title-description=titleDescription :error-title=errorTitle></article-title> <article-copyright :is-form=false :is-template=true :copyright=copyright :error-copyright=errorCopyright></article-copyright> <article-types :is-form=false :is-template=true :typeid=typeid :error-typeid=errorTypeid></article-types> <article-tags :is-form=false :is-template=true :tags=tags :error-tag=errorTag></article-tags> <article-description :is-form=false :is-template=true :description=description :placeholder="copyright === 2 ? copyPlaceholder : originalPlaceholder" :error-description=errorDescription></article-description> </div> <div class=modal-footer> <div class=btn-group> <button class="btn ok" @click=saveTemplate>{{\'保存\' | translate}}</button> <button class="btn cancel" @click="updateTemplate(\'show\', false)">{{\'取消\' | translate}}</button> </div> <div class=error v-if=errorTemplate>{{errorTemplate}}</div> </div> </div> </div> </div>'},function(t,e){t.exports='<div class="section title-wrp"> <h3>{{\'稿件标题\' | translate}}</h3> <div> <div class=title-wrp> <input class=bili-input type=text @input=handleTitle($event) :value=title :class="{\'is-error\': errorTitle}" placeholder="{{\'请输入稿件标题\' | translate}}"> <div class=count-wrp>{{countWords(title)}}/80</div> </div> <div class=title-hint v-show="titleDescription && isForm"> <i class="icon icon-notice"></i>{{titleDescription}} </div> <div class=error-wrp v-if=errorTitle> <i class="icon icon-error"></i> {{errorTitle | translate}} </div> </div> </div>'},function(t,e){t.exports="<div class=\"section type-wrp\"> <h3>{{'选择分区' | translate}}</h3> <div> <ul class=\"type-menu clearfix\"> <li v-for=\"type in types\" track-by=$index class=dropdown> <button type=button data-article-typeid data-toggle=\"{{disabled ? '' : 'dropdown'}}\" class=type-btn :class=\"{'is-selected': parentid === type.id, 'is-disabled': disabled}\">{{type.name | translate}}</button> <ul class=dropdown-menu> <li class=menu-item :class=\"{'is-selected': typeid === child.id}\" v-for=\"child in type.children\" track-by=$index @click=setTypeid(child)> <span class=name>{{child.name | translate}}</span> <span class=description>{{child.description | translate}}</span> </li> </ul> </li> </ul> <div class=type-hint v-if=\"!typeid || typeid === '0' || !isFind\">{{'请选择分区，合适的分区选择有利于投稿通过' | translate}}</div> <div class=type-hint v-if=\"typeid && typeid !== '0' && isFind\">{{'您当前选择的分区是：' | translate}}<span class=outline :class=\"{'is-disabled': disabled}\">{{breadMain | translate}} &rarr; {{breadSecond | translate}}</span></div> <div class=error-wrp v-if=errorTypeid> <i class=\"icon icon-error\"></i> {{errorTypeid | translate}} </div> </div> </div>"},function(t,e){t.exports='<div class=upload-wrp> <ul id=sortWrp class=file-menu> <li class="sort-item menu-item clearfix" v-for="file in files" track-by=$index :style="{cursor: files.length >= 2 ? \'move\' : \'default\'}"> <div class="left order-wrp"> <i class="left icon icon-upload"></i> <span class=order-num :style="{\'font-size\': ($index + 1) >= 1000 ? \'14px\' : \'18px\'}">{{$index + 1}}</span> </div> <div class="left meta-wrp"> <div class=status-wrp> <div class=name-wrp v-show=!file.isEditTitle> <span data-upload-rename class="highlight name" @click="showEdit($event, file)" :style="{cursor: files.length >= 2 ? \'pointer\' : \'default\'}">{{file.title | cutTitle}}</span> <div class=hint-wrp v-if="files.length >= 2"> <i class="icon icon-bottom-arrow hint-btn"></i> <span>{{\'点击编辑分P信息\' | translate}}</span> </div> </div> <input type=text class=name-input v-show=file.isEditTitle :value=file.title placeholder="{{\'请输入分P标题名\' | translate}}" @input="handleTitle($event, file)" @keyup.enter="file.isEditTitle = false" @blur="editTitle($event, file)"> <div class=upload-status v-if="file.status === 1">{{\'正在上传\' | translate}}...</div> <div class=upload-status v-if="file.status === 2">{{\'暂停上传\' | translate}}...</div> <div class=upload-status v-if="file.status === 1 || file.status === 2">{{\'已完成\' | translate}}</div> <div class="upload-status highlight" v-if="file.status === 1 || file.status === 2">{{(file.percent > 99 ? 99 : file.percent) + \'%\'}}</div> <div class="upload-status highlight" v-if="file.status === 1">, {{file.humanBitrate}}</div> <div class="upload-status highlight" v-if="file.status === 1">, {{file.doneTime}}</div> <div class="upload-status is-error" v-if="file.status === 3 && file.errorUrl" style="cursor: pointer" @click=fixUploadUrl(file)>{{\'获取上传地址失败，点击重新获取\' | translate}}</div> <div class=upload-status v-if="file.status === 3 && !file.errorUrl && file.maxRetries">{{\'上传中断\' | translate}},</div> <div class=upload-status v-if="file.status === 3 && !file.errorUrl && file.maxRetries">{{file.retryInterval + \'s后自动重试中...\' | translate}}</div> <div class="upload-status is-error" v-if="!file.maxRetries && file.status === 3 && !file.errorUrl">{{\'上传失败，请检查您的网络或者手动重试\' | translate}}</div> <div class=upload-status v-if="file.status === 0">{{\'上传完成\' | translate}}!</div> <div class="act-wrp right"> <i class="icon icon-pause" v-if="file.status === 1" @click=file.pause()></i> <i class="icon icon-play" v-if="file.status === 2" @click=file.retry()></i> <i class="icon icon-cancel" @click="currentFile = $index"></i> </div> <a class="reupload-btn right" href="javascript: void(0);" @click="reUpload(file, $event), file.retry()" v-if="file.status === 3 && !file.errorUrl">{{\'手动重试\' | translate}}</a> <div class=confirm-wrp v-if="currentFile === $index"> <div class=title>{{\'确定要删除吗？\' | translate}}</div> <div class=btn-group> <button data-del-upload type=button class="btn ok" @click="file.cancel && file.cancel(), removeFile($index), currentFile = null">{{\'确定\' | translate}}</button> <button type=button class="btn cancel" @click="currentFile = null">{{\'取消\' | translate}}</button> </div> </div> </div> <div class=progress-wrp> <div class=progress :style="{width: file.percent + \'%\'}" :class="{\'is-error\': file.status === 3 && !file.maxRetries}"></div> </div> <div class=description-wrp v-show=file.isEditDescription> <textarea placeholder="{{\'编辑分p简介\' | translate}}" @input="handleDescription($event, file)">{{file.description}}</textarea> </div> </div> </li> </ul> <div class=drag-hint v-if=isShowHint> <i class="icon icon-top-arrow drag-btn"></i> <span>{{\'拖拽视频可调整顺序\' | translate}}</span> </div> <button data-upload-more class="btn upload-btn" v-show="!((typeid === \'83\' || typeid === \'145\' || typeid === \'146\' || typeid === \'147\') && files.length === 1)"></button> </div>';
},function(t,e){t.exports=' <div class=sec-recommend _v-35e0cbf5=""> <h3 style="font-weight: 400" _v-35e0cbf5="">关联推荐</h3> <div class=add-wrp _v-35e0cbf5=""> <input type=text class=av-input v-model=inputId placeholder=请输入稿件ID,仅输入纯数字即可 _v-35e0cbf5=""> <span class=btn-add :class="{\'disable\': !canAdd}" @click=add() _v-35e0cbf5="">添加</span> </div> <div class=error _v-35e0cbf5="">{{errMsg}}</div> <div class=av-list _v-35e0cbf5=""> <div class=list-head _v-35e0cbf5=""> <div class="col col-1" _v-35e0cbf5="">稿件ID</div> <div class="col col-2" _v-35e0cbf5="">稿件标题</div> <div class="col col-3" _v-35e0cbf5="">UP主</div> <div class="col col-4" _v-35e0cbf5="">操作</div> </div> <div class=list-body _v-35e0cbf5=""> <div class=list-item v-for="item in list" track-by=$index _v-35e0cbf5=""> <div class="col col-1" _v-35e0cbf5="">{{item.aid}}</div> <div class="col col-2 ellipsis" _v-35e0cbf5="">{{{item.title}}}</div> <div class="col col-3 ellipsis" _v-35e0cbf5="">{{item.owner}}</div> <div class="col col-4" _v-35e0cbf5=""> <i class="icon icon-del" @click="delIndex = $index" _v-35e0cbf5=""></i> <div class=confirm-wrp v-if="delIndex === $index" _v-35e0cbf5=""> <div class=title _v-35e0cbf5="">{{\'确定要删除吗？\' | translate}}</div> <div class=btn-group _v-35e0cbf5=""> <button type=button class="btn ok" @click=del() _v-35e0cbf5="">{{\'确定\' | translate}}</button> <button type=button class="btn cancel" @click="delIndex = null" _v-35e0cbf5="">{{\'取消\' | translate}}</button> </div> </div> </div> </div> <div class=empty v-show="list.length == 0" _v-35e0cbf5="">暂无关联推荐╮(￣▽￣)╭</div> </div> </div> </div> '},function(t,e){t.exports=' <div class=crop-wrap @mousedown=wrapMouseDown _v-652de228=""> <div class=shadow-box _v-652de228=""> <img :src=img class=shadow-img _v-652de228=""> </div> <div class=crop-box @mousedown=boxMouseDown :class="{\'show\': showBox}" _v-652de228=""> <span class="drag-point point-lt" @mousedown="pointMouseDown(\'drag-lt\', $event)" _v-652de228=""></span> <span class="drag-point point-lb" @mousedown="pointMouseDown(\'drag-lb\', $event)" _v-652de228=""></span> <span class="drag-point point-rt" @mousedown="pointMouseDown(\'drag-rt\', $event)" _v-652de228=""></span> <span class="drag-point point-rb" @mousedown="pointMouseDown(\'drag-rb\', $event)" _v-652de228=""></span> </div> </div> '},function(t,e){t.exports=' <div class="bili-modal cropper-modal" v-show=show _v-be5264f6=""> <div class=overlay _v-be5264f6=""></div> <div class=modal _v-be5264f6=""> <div class=modal-head _v-be5264f6=""> <div class=head-wrap _v-be5264f6="">{{\'建议上传高清封面960*600\' | translate}}</div> <i class="icon close-icon" @click=cancel() _v-be5264f6=""></i> </div> <div class="modal-content clearfix" _v-be5264f6=""> <div class=img-clip-wrap _v-be5264f6=""> <div class=container-bg _v-be5264f6=""> <div class=img-container _v-be5264f6=""> <img id=clip_src_img @load=srcImgLoaded _v-be5264f6=""> <div class=shadow-box _v-be5264f6=""></div> <select-box v-ref:box="" :radio=radio :img=img _v-be5264f6=""></select-box> </div> </div> <div class=reset-img _v-be5264f6=""> <i class="icon reset-icon" _v-be5264f6=""></i> <span _v-be5264f6="">{{\'重新选择\' | translate}}</span> <input type=file id=file_input accept=image/* @change=fileChange($event) data-cover-retry="" _v-be5264f6=""> </div> </div> <div class=img-preview-wrap _v-be5264f6=""> <div class=pre-container _v-be5264f6=""> <img id=clip_res_img _v-be5264f6=""> </div> <div class=pre-info _v-be5264f6="">{{\'封面最终展示效果如上所示\' | translate}}</div> </div> </div> <div class=modal-footer _v-be5264f6=""> <div class="modal-btn btn-confirm" :class="{\'btn-is-uploading\': uploading}" @click=confirm v-text="getButtonText() | translate" _v-be5264f6=""></div> <div class="modal-btn btn-cancel" @click=cancel _v-be5264f6="">{{\'取消\' | translate}}</div> <div class=error-hint v-show=error _v-be5264f6="">{{error | translate}}</div> </div> </div> </div> '},function(t,e,i){var r,o,s={};r=i(27),o=i(83),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(28),o=i(84),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(29),o=i(85),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(30),o=i(86),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};i(80),r=i(50),o=i(99),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};i(82),r=i(51),o=i(101),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};i(81),r=i(52),o=i(100),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(32),o=i(88),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(34),o=i(90),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(35),o=i(91),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(36),o=i(92),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(37),o=i(93),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(39),o=i(95),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})},function(t,e,i){var r,o,s={};r=i(42),o=i(98),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports.default);var a="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;o&&(a.template=o),a.computed||(a.computed={}),Object.keys(s).forEach(function(t){var e=s[t];a.computed[t]=function(){return e}})}]);